import{r as c,cv as oo,j as T,bm as so,aC as xt,cw as io,cx as uo,cy as ao,cz as co,cA as lo,cB as fo,cC as vo,cD as mo,b as po,cE as bo,m as nt,T as bt,ai as go}from"./index-CJZ0utKv.js";import{X as ho}from"./x-mark-mini-ysYOSGAt.js";import{T as xo}from"./triangles-mini-CxMQ-XTT.js";import{P as So}from"./plus-mini-BdX2C9J6.js";var yo=Object.defineProperty,Eo=Object.defineProperties,Co=Object.getOwnPropertyDescriptors,St=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,Jn=Object.prototype.propertyIsEnumerable,xn=(e,t,r)=>t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,O=(e,t)=>{for(var r in t||(t={}))Xn.call(t,r)&&xn(e,r,t[r]);if(St)for(var r of St(t))Jn.call(t,r)&&xn(e,r,t[r]);return e},$=(e,t)=>Eo(e,Co(t)),Z=(e,t)=>{var r={};for(var n in e)Xn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&St)for(var n of St(e))t.indexOf(n)<0&&Jn.call(e,n)&&(r[n]=e[n]);return r},wo=Object.defineProperty,Po=Object.defineProperties,Io=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,Sn=(e,t,r)=>t in e?wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oe=(e,t)=>{for(var r in t||(t={}))Zn.call(t,r)&&Sn(e,r,t[r]);if(yt)for(var r of yt(t))Qn.call(t,r)&&Sn(e,r,t[r]);return e},ye=(e,t)=>Po(e,Io(t)),er=(e,t)=>{var r={};for(var n in e)Zn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&yt)for(var n of yt(e))t.indexOf(n)<0&&Qn.call(e,n)&&(r[n]=e[n]);return r};function ut(...e){}function Oo(e,t){if(Ao(e)){const r=Do(t)?t():t;return e(r)}return e}function Ao(e){return typeof e=="function"}function Do(e){return typeof e=="function"}function Ve(e,t){return typeof Object.hasOwn=="function"?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function Te(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}function tr(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function To(e,t){const r=oe({},e);for(const n of t)Ve(r,n)&&delete r[n];return r}function _o(e,t){const r={};for(const n of t)Ve(e,n)&&(r[n]=e[n]);return r}function nr(e){return e}function Ie(e,t){if(!e)throw typeof t!="string"?new Error("Invariant failed"):new Error(t)}function Fo(e){return Object.keys(e)}function rr(e,...t){const r=typeof e=="function"?e(...t):e;return r==null?!1:!r}function Ut(e){return e.disabled||e["aria-disabled"]===!0||e["aria-disabled"]==="true"}function Ye(e){const t={};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function G(...e){for(const t of e)if(t!==void 0)return t}function Lt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ro(e){return!e||!c.isValidElement(e)?!1:"ref"in e.props||"ref"in e}function ko(e){return Ro(e)?O({},e.props).ref||e.ref:null}function Mo(e,t){const r=O({},e);for(const n in t){if(!Ve(t,n))continue;if(n==="className"){const s="className";r[s]=e[s]?`${e[s]} ${t[s]}`:t[s];continue}if(n==="style"){const s="style";r[s]=e[s]?O(O({},e[s]),t[s]):t[s];continue}const o=t[n];if(typeof o=="function"&&n.startsWith("on")){const s=e[n];if(typeof s=="function"){r[n]=(...i)=>{o(...i),s(...i)};continue}}r[n]=o}return r}var it=Vo();function Vo(){var e;return typeof window<"u"&&!!((e=window.document)!=null&&e.createElement)}function se(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function or(e){return e?"self"in e?e.self:se(e).defaultView||window:self}function Ke(e,t=!1){const{activeElement:r}=se(e);if(!(r!=null&&r.nodeName))return null;if(qt(r)&&r.contentDocument)return Ke(r.contentDocument.body,t);if(t){const n=r.getAttribute("aria-activedescendant");if(n){const o=se(r).getElementById(n);if(o)return o}}return r}function me(e,t){return e===t||e.contains(t)}function qt(e){return e.tagName==="IFRAME"}function qe(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?Lo.indexOf(e.type)!==-1:!1}var Lo=["button","color","file","image","reset","submit"];function sr(e){if(typeof e.checkVisibility=="function")return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function Be(e){try{const t=e instanceof HTMLInputElement&&e.selectionStart!==null,r=e.tagName==="TEXTAREA";return t||r||!1}catch{return!1}}function Nt(e){return e.isContentEditable||Be(e)}function No(e){if(Be(e))return e.value;if(e.isContentEditable){const t=se(e).createRange();return t.selectNodeContents(e),t.toString()}return""}function jt(e){let t=0,r=0;if(Be(e))t=e.selectionStart||0,r=e.selectionEnd||0;else if(e.isContentEditable){const n=se(e).getSelection();if(n!=null&&n.rangeCount&&n.anchorNode&&me(e,n.anchorNode)&&n.focusNode&&me(e,n.focusNode)){const o=n.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(e),s.setEnd(o.startContainer,o.startOffset),t=s.toString().length,s.setEnd(o.endContainer,o.endOffset),r=s.toString().length}}return{start:t,end:r}}function ir(e,t){const r=["dialog","menu","listbox","tree","grid"],n=e==null?void 0:e.getAttribute("role");return n&&r.indexOf(n)!==-1?n:t}function Yt(e){if(!e)return null;const t=r=>r==="auto"||r==="scroll";if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:r}=getComputedStyle(e);if(t(r))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:r}=getComputedStyle(e);if(t(r))return e}return Yt(e.parentElement)||document.scrollingElement||document.body}function _t(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function jo(e,t){const r=e.map((o,s)=>[s,o]);let n=!1;return r.sort(([o,s],[i,u])=>{const a=t(s),l=t(u);return a===l||!a||!l?0:$o(a,l)?(o>i&&(n=!0),-1):(o<i&&(n=!0),1)}),n?r.map(([o,s])=>s):e}function $o(e,t){return!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function ur(){return it&&!!navigator.maxTouchPoints}function Gt(){return it?/mac|iphone|ipad|ipod/i.test(navigator.platform):!1}function wt(){return it&&Gt()&&/apple/i.test(navigator.vendor)}function Ko(){return it&&/firefox\//i.test(navigator.userAgent)}function Bo(){return it&&navigator.platform.startsWith("Mac")&&!ur()}function ar(e){return!!(e.currentTarget&&!me(e.currentTarget,e.target))}function De(e){return e.target===e.currentTarget}function Ho(e){const t=e.currentTarget;if(!t)return!1;const r=Gt();if(r&&!e.metaKey||!r&&!e.ctrlKey)return!1;const n=t.tagName.toLowerCase();return n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit"}function zo(e){const t=e.currentTarget;if(!t)return!1;const r=t.tagName.toLowerCase();return e.altKey?r==="a"||r==="button"&&t.type==="submit"||r==="input"&&t.type==="submit":!1}function rt(e,t){const r=new FocusEvent("blur",t),n=e.dispatchEvent(r),o=ye(oe({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",o)),n}function Wo(e,t,r){const n=new KeyboardEvent(t,r);return e.dispatchEvent(n)}function yn(e,t){const r=new MouseEvent("click",t);return e.dispatchEvent(r)}function Xe(e,t){const r=t||e.currentTarget,n=e.relatedTarget;return!n||!me(r,n)}function ot(e,t,r,n){const s=(u=>{const a=requestAnimationFrame(u);return()=>cancelAnimationFrame(a)})(()=>{e.removeEventListener(t,i,!0),r()}),i=()=>{s(),r()};return e.addEventListener(t,i,{once:!0,capture:!0}),s}function Re(e,t,r,n=window){const o=[];try{n.document.addEventListener(e,t,r);for(const i of Array.from(n.frames))o.push(Re(e,t,r,i))}catch{}return()=>{try{n.document.removeEventListener(e,t,r)}catch{}for(const i of o)i()}}var Xt=O({},oo),En=Xt.useId;Xt.useDeferredValue;var Cn=Xt.useInsertionEffect,X=it?c.useLayoutEffect:c.useEffect;function Uo(e){const[t]=c.useState(e);return t}function qo(e){const t=c.useRef(e);return X(()=>{t.current=e}),t}function W(e){const t=c.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return Cn?Cn(()=>{t.current=e}):t.current=e,c.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Yo(e){const[t,r]=c.useState(null);return X(()=>{if(t==null||!e)return;let n=null;return e(o=>(n=o,t)),()=>{e(n)}},[t,e]),[t,r]}function he(...e){return c.useMemo(()=>{if(e.some(Boolean))return t=>{for(const r of e)Lt(r,t)}},e)}function Qe(e){if(En){const n=En();return e||n}const[t,r]=c.useState(e);return X(()=>{if(e||t)return;const n=Math.random().toString(36).slice(2,8);r(`id-${n}`)},[e,t]),e||t}function cr(e,t){const r=s=>{if(typeof s=="string")return s},[n,o]=c.useState(()=>r(t));return X(()=>{const s=e&&"current"in e?e.current:e;o((s==null?void 0:s.tagName.toLowerCase())||r(t))},[e,t]),n}function Go(e,t,r){const n=Uo(r),[o,s]=c.useState(n);return c.useEffect(()=>{const i=e&&"current"in e?e.current:e;if(!i)return;const u=()=>{const l=i.getAttribute(t);s(l??n)},a=new MutationObserver(u);return a.observe(i,{attributeFilter:[t]}),u(),()=>a.disconnect()},[e,t,n]),o}function ct(e,t){const r=c.useRef(!1);c.useEffect(()=>{if(r.current)return e();r.current=!0},t),c.useEffect(()=>()=>{r.current=!1},[])}function Xo(e,t){const r=c.useRef(!1);X(()=>{if(r.current)return e();r.current=!0},t),X(()=>()=>{r.current=!1},[])}function lr(){return c.useReducer(()=>[],[])}function ue(e){return W(typeof e=="function"?e:()=>e)}function we(e,t,r=[]){const n=c.useCallback(o=>(e.wrapElement&&(o=e.wrapElement(o)),t(o)),[...r,e.wrapElement]);return $(O({},e),{wrapElement:n})}function fr(e=!1,t){const[r,n]=c.useState(null);return{portalRef:he(n,t),portalNode:r,domReady:!e||r}}function dr(e,t,r){const n=e.onLoadedMetadataCapture,o=c.useMemo(()=>Object.assign(()=>{},$(O({},n),{[t]:r})),[n,t,r]);return[n==null?void 0:n[t],{onLoadedMetadataCapture:o}]}function Jo(){return c.useEffect(()=>{Re("mousemove",Qo,!0),Re("mousedown",gt,!0),Re("mouseup",gt,!0),Re("keydown",gt,!0),Re("scroll",gt,!0)},[]),W(()=>Jt)}var Jt=!1,wn=0,Pn=0;function Zo(e){const t=e.movementX||e.screenX-wn,r=e.movementY||e.screenY-Pn;return wn=e.screenX,Pn=e.screenY,t||r||!1}function Qo(e){Zo(e)&&(Jt=!0)}function gt(){Jt=!1}function J(e){const t=c.forwardRef((r,n)=>e($(O({},r),{ref:n})));return t.displayName=e.displayName||e.name,t}function Zt(e,t){return c.memo(e,t)}function Q(e,t){const r=t,{wrapElement:n,render:o}=r,s=Z(r,["wrapElement","render"]),i=he(t.ref,ko(o));let u;if(c.isValidElement(o)){const a=$(O({},o.props),{ref:i});u=c.cloneElement(o,Mo(s,a))}else o?u=o(s):u=T.jsx(e,O({},s));return n?n(u):u}function ee(e){const t=(r={})=>e(r);return t.displayName=e.name,t}function et(e=[],t=[]){const r=c.createContext(void 0),n=c.createContext(void 0),o=()=>c.useContext(r),s=(l=!1)=>{const v=c.useContext(n),p=o();return l?v:v||p},i=()=>{const l=c.useContext(n),v=o();if(!(l&&l===v))return v},u=l=>e.reduceRight((v,p)=>T.jsx(p,$(O({},l),{children:v})),T.jsx(r.Provider,O({},l)));return{context:r,scopedContext:n,useContext:o,useScopedContext:s,useProviderContext:i,ContextProvider:u,ScopedContextProvider:l=>T.jsx(u,$(O({},l),{children:t.reduceRight((v,p)=>T.jsx(p,$(O({},l),{children:v})),T.jsx(n.Provider,O({},l)))}))}}var lt=et(),es=lt.useContext;lt.useScopedContext;lt.useProviderContext;var ts=lt.ContextProvider,ns=lt.ScopedContextProvider,ft=et([ts],[ns]),vr=ft.useContext;ft.useScopedContext;var rs=ft.useProviderContext,Qt=ft.ContextProvider,mr=ft.ScopedContextProvider,os=c.createContext(void 0),ss=c.createContext(void 0);c.createContext(null);c.createContext(null);var is=et([Qt],[mr]),us=is.useContext;function tt(e,t){const r=e.__unstableInternals;return Ie(r,"Invalid store"),r[t]}function $e(e,...t){let r=e,n=r,o=Symbol(),s=ut;const i=new Set,u=new Set,a=new Set,l=new Set,v=new Set,p=new WeakMap,f=new WeakMap,E=R=>(a.add(R),()=>a.delete(R)),b=()=>{const R=i.size,S=Symbol();i.add(S);const V=()=>{i.delete(S),!i.size&&s()};if(R)return V;const H=Fo(r).map(P=>Te(...t.map(M=>{var y;const k=(y=M==null?void 0:M.getState)==null?void 0:y.call(M);if(k&&Ve(k,P))return Ce(M,[P],N=>{I(P,N[P],!0)})}))),B=[];for(const P of a)B.push(P());const d=t.map(en);return s=Te(...H,...B,...d),V},h=(R,S,V=l)=>(V.add(S),f.set(S,R),()=>{var H;(H=p.get(S))==null||H(),p.delete(S),f.delete(S),V.delete(S)}),F=(R,S)=>h(R,S),w=(R,S)=>(p.set(S,S(r,r)),h(R,S)),A=(R,S)=>(p.set(S,S(r,n)),h(R,S,v)),x=R=>$e(_o(r,R),D),m=R=>$e(To(r,R),D),C=()=>r,I=(R,S,V=!1)=>{var H;if(!Ve(r,R))return;const B=Oo(S,r[R]);if(B===r[R])return;if(!V)for(const y of t)(H=y==null?void 0:y.setState)==null||H.call(y,R,B);const d=r;r=ye(oe({},r),{[R]:B});const P=Symbol();o=P,u.add(R);const M=(y,k,N)=>{var g;const j=f.get(y),z=te=>N?N.has(te):te===R;(!j||j.some(z))&&((g=p.get(y))==null||g(),p.set(y,y(r,k)))};for(const y of l)M(y,d);queueMicrotask(()=>{if(o!==P)return;const y=r;for(const k of v)M(k,n,u);n=y,u.clear()})},D={getState:C,setState:I,__unstableInternals:{setup:E,init:b,subscribe:F,sync:w,batch:A,pick:x,omit:m}};return D}function Ee(e,...t){if(e)return tt(e,"setup")(...t)}function en(e,...t){if(e)return tt(e,"init")(...t)}function tn(e,...t){if(e)return tt(e,"subscribe")(...t)}function Ce(e,...t){if(e)return tt(e,"sync")(...t)}function Et(e,...t){if(e)return tt(e,"batch")(...t)}function pr(e,...t){if(e)return tt(e,"omit")(...t)}function as(e,...t){if(e)return tt(e,"pick")(...t)}function nn(...e){const t=e.reduce((n,o)=>{var s;const i=(s=o==null?void 0:o.getState)==null?void 0:s.call(o);return i?Object.assign(n,i):n},{}),r=$e(t,...e);return Object.assign({},...e,r)}function Pt(e,t){if(!t)return;const r=Object.entries(e).filter(([s,i])=>s.startsWith("default")&&i!==void 0).map(([s])=>{var i;const u=s.replace("default","");return`${((i=u[0])==null?void 0:i.toLowerCase())||""}${u.slice(1)}`});if(!r.length)return;const n=t.getState();if(r.filter(s=>Ve(n,s)).length)throw new Error(`Passing a store prop in conjunction with a default state is not supported.

const store = useSelectStore();
<SelectProvider store={store} defaultValue="Apple" />
                ^             ^

Instead, pass the default state to the topmost store:

const store = useSelectStore({ defaultValue: "Apple" });
<SelectProvider store={store} />

See https://github.com/ariakit/ariakit/pull/2745 for more details.

If there's a particular need for this, please submit a feature request at https://github.com/ariakit/ariakit
`)}var br={exports:{}},gr={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=c,t=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function r(x){{for(var m=arguments.length,C=new Array(m>1?m-1:0),I=1;I<m;I++)C[I-1]=arguments[I];n("error",x,C)}}function n(x,m,C){{var I=t.ReactDebugCurrentFrame,D=I.getStackAddendum();D!==""&&(m+="%s",C=C.concat([D]));var R=C.map(function(S){return String(S)});R.unshift("Warning: "+m),Function.prototype.apply.call(console[x],console,R)}}function o(x,m){return x===m&&(x!==0||1/x===1/m)||x!==x&&m!==m}var s=typeof Object.is=="function"?Object.is:o,i=e.useState,u=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue,v=!1,p=!1;function f(x,m,C){v||e.startTransition!==void 0&&(v=!0,r("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var I=m();if(!p){var D=m();s(I,D)||(r("The result of getSnapshot should be cached to avoid an infinite loop"),p=!0)}var R=i({inst:{value:I,getSnapshot:m}}),S=R[0].inst,V=R[1];return a(function(){S.value=I,S.getSnapshot=m,E(S)&&V({inst:S})},[x,I,m]),u(function(){E(S)&&V({inst:S});var H=function(){E(S)&&V({inst:S})};return x(H)},[x]),l(I),I}function E(x){var m=x.getSnapshot,C=x.value;try{var I=m();return!s(C,I)}catch{return!0}}function b(x,m,C){return m()}var h=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F=!h,w=F?b:f,A=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:w;gr.useSyncExternalStore=A,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();br.exports=gr;var cs=br.exports;const ls=so(cs);var{useSyncExternalStore:hr}=ls,xr=()=>()=>{};function Pe(e,t=nr){const r=c.useCallback(o=>e?tn(e,null,o):xr(),[e]),n=()=>{const o=typeof t=="string"?t:null,s=typeof t=="function"?t:null,i=e==null?void 0:e.getState();if(s)return s(i);if(i&&o&&Ve(i,o))return i[o]};return hr(r,n,n)}function Sr(e,t){const r=c.useRef({}),n=c.useCallback(s=>e?tn(e,null,s):xr(),[e]),o=()=>{const s=e==null?void 0:e.getState();let i=!1;const u=r.current;for(const a in t){const l=t[a];if(typeof l=="function"){const v=l(s);v!==u[a]&&(u[a]=v,i=!0)}if(typeof l=="string"){if(!s||!Ve(s,l))continue;const v=s[l];v!==u[a]&&(u[a]=v,i=!0)}}return i&&(r.current=O({},u)),r.current};return hr(n,o,o)}function ve(e,t,r,n){const o=Ve(t,r)?t[r]:void 0,s=n?t[n]:void 0,i=qo({value:o,setValue:s});X(()=>Ce(e,[r],(u,a)=>{const{value:l,setValue:v}=i.current;v&&u[r]!==a[r]&&u[r]!==l&&v(u[r])}),[e,r]),X(()=>{if(o!==void 0)return e.setState(r,o),Et(e,[r],()=>{o!==void 0&&e.setState(r,o)})})}function rn(e,t){const[r,n]=c.useState(()=>e(t));X(()=>en(r),[r]);const o=c.useCallback(u=>Pe(r,u),[r]),s=c.useMemo(()=>$(O({},r),{useState:o}),[r,o]),i=W(()=>{n(u=>e(O(O({},t),u.getState())))});return[s,i]}function fs(e){var t;const r=e.find(s=>!!s.element),n=[...e].reverse().find(s=>!!s.element);let o=(t=r==null?void 0:r.element)==null?void 0:t.parentElement;for(;o&&(n!=null&&n.element);){if(n&&o.contains(n.element))return o;o=o.parentElement}return se(o).body}function ds(e){return e==null?void 0:e.__unstablePrivateStore}function vs(e={}){var t;Pt(e,e.store);const r=(t=e.store)==null?void 0:t.getState(),n=G(e.items,r==null?void 0:r.items,e.defaultItems,[]),o=new Map(n.map(f=>[f.id,f])),s={items:n,renderedItems:G(r==null?void 0:r.renderedItems,[])},i=ds(e.store),u=$e({items:n,renderedItems:s.renderedItems},i),a=$e(s,e.store),l=f=>{const E=jo(f,b=>b.element);u.setState("renderedItems",E),a.setState("renderedItems",E)};Ee(a,()=>en(u)),Ee(u,()=>Et(u,["items"],f=>{a.setState("items",f.items)})),Ee(u,()=>Et(u,["renderedItems"],f=>{let E=!0,b=requestAnimationFrame(()=>{const{renderedItems:A}=a.getState();f.renderedItems!==A&&l(f.renderedItems)});if(typeof IntersectionObserver!="function")return()=>cancelAnimationFrame(b);const h=()=>{if(E){E=!1;return}cancelAnimationFrame(b),b=requestAnimationFrame(()=>l(f.renderedItems))},F=fs(f.renderedItems),w=new IntersectionObserver(h,{root:F});for(const A of f.renderedItems)A.element&&w.observe(A.element);return()=>{cancelAnimationFrame(b),w.disconnect()}}));const v=(f,E,b=!1)=>{let h;return E(w=>{const A=w.findIndex(({id:m})=>m===f.id),x=w.slice();if(A!==-1){h=w[A];const m=oe(oe({},h),f);x[A]=m,o.set(f.id,m)}else x.push(f),o.set(f.id,f);return x}),()=>{E(w=>{if(!h)return b&&o.delete(f.id),w.filter(({id:m})=>m!==f.id);const A=w.findIndex(({id:m})=>m===f.id);if(A===-1)return w;const x=w.slice();return x[A]=h,o.set(f.id,h),x})}},p=f=>v(f,E=>u.setState("items",E),!0);return ye(oe({},a),{registerItem:p,renderItem:f=>Te(p(f),v(f,E=>u.setState("renderedItems",E))),item:f=>{if(!f)return null;let E=o.get(f);if(!E){const{items:b}=u.getState();E=b.find(h=>h.id===f),E&&o.set(f,E)}return E||null},__unstablePrivateStore:u})}function ms(e,t,r){return ct(t,[r.store]),ve(e,r,"items","setItems"),e}function ps(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}function yr(e){const t=[];for(const r of e)t.push(...r);return t}function $t(e){return e.slice().reverse()}var bs={id:null};function je(e,t){return e.find(r=>t?!r.disabled&&r.id!==t:!r.disabled)}function gs(e,t){return e.filter(r=>t?!r.disabled&&r.id!==t:!r.disabled)}function In(e,t){return e.filter(r=>r.rowId===t)}function hs(e,t,r=!1){const n=e.findIndex(o=>o.id===t);return[...e.slice(n+1),...r?[bs]:[],...e.slice(0,n)]}function Er(e){const t=[];for(const r of e){const n=t.find(o=>{var s;return((s=o[0])==null?void 0:s.rowId)===r.rowId});n?n.push(r):t.push([r])}return t}function Cr(e){let t=0;for(const{length:r}of e)r>t&&(t=r);return t}function xs(e){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:e}}function Ss(e,t,r){const n=Cr(e);for(const o of e)for(let s=0;s<n;s+=1){const i=o[s];if(!i||r&&i.disabled){const a=s===0&&r?je(o):o[s-1];o[s]=a&&t!==a.id&&r?a:xs(a==null?void 0:a.rowId)}}return e}function ys(e){const t=Er(e),r=Cr(t),n=[];for(let o=0;o<r;o+=1)for(const s of t){const i=s[o];i&&n.push(ye(oe({},i),{rowId:i.rowId?`${o}`:void 0}))}return n}function Es(e={}){var t;const r=(t=e.store)==null?void 0:t.getState(),n=vs(e),o=G(e.activeId,r==null?void 0:r.activeId,e.defaultActiveId),s=ye(oe({},n.getState()),{id:G(e.id,r==null?void 0:r.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:o,baseElement:G(r==null?void 0:r.baseElement,null),includesBaseElement:G(e.includesBaseElement,r==null?void 0:r.includesBaseElement,o===null),moves:G(r==null?void 0:r.moves,0),orientation:G(e.orientation,r==null?void 0:r.orientation,"both"),rtl:G(e.rtl,r==null?void 0:r.rtl,!1),virtualFocus:G(e.virtualFocus,r==null?void 0:r.virtualFocus,!1),focusLoop:G(e.focusLoop,r==null?void 0:r.focusLoop,!1),focusWrap:G(e.focusWrap,r==null?void 0:r.focusWrap,!1),focusShift:G(e.focusShift,r==null?void 0:r.focusShift,!1)}),i=$e(s,n,e.store);Ee(i,()=>Ce(i,["renderedItems","activeId"],a=>{i.setState("activeId",l=>{var v;return l!==void 0?l:(v=je(a.renderedItems))==null?void 0:v.id})}));const u=(a="next",l={})=>{var v,p;const f=i.getState(),{skip:E=0,activeId:b=f.activeId,focusShift:h=f.focusShift,focusLoop:F=f.focusLoop,focusWrap:w=f.focusWrap,includesBaseElement:A=f.includesBaseElement,renderedItems:x=f.renderedItems,rtl:m=f.rtl}=l,C=a==="up"||a==="down",I=a==="next"||a==="down",D=I?m&&!C:!m||C,R=h&&!E;let S=C?yr(Ss(Er(x),b,R)):x;if(S=D?$t(S):S,S=C?ys(S):S,b==null)return(v=je(S))==null?void 0:v.id;const V=S.find(g=>g.id===b);if(!V)return(p=je(S))==null?void 0:p.id;const H=S.some(g=>g.rowId),B=S.indexOf(V),d=S.slice(B+1),P=In(d,V.rowId);if(E){const g=gs(P,b),j=g.slice(E)[0]||g[g.length-1];return j==null?void 0:j.id}const M=F&&(C?F!=="horizontal":F!=="vertical"),y=H&&w&&(C?w!=="horizontal":w!=="vertical"),k=I?(!H||C)&&M&&A:C?A:!1;if(M){const g=y&&!k?S:In(S,V.rowId),j=hs(g,b,k),z=je(j,b);return z==null?void 0:z.id}if(y){const g=je(k?P:d,b);return k?(g==null?void 0:g.id)||null:g==null?void 0:g.id}const N=je(P,b);return!N&&k?null:N==null?void 0:N.id};return ye(oe(oe({},n),i),{setBaseElement:a=>i.setState("baseElement",a),setActiveId:a=>i.setState("activeId",a),move:a=>{a!==void 0&&(i.setState("activeId",a),i.setState("moves",l=>l+1))},first:()=>{var a;return(a=je(i.getState().renderedItems))==null?void 0:a.id},last:()=>{var a;return(a=je($t(i.getState().renderedItems)))==null?void 0:a.id},next:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("next",a)),previous:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("previous",a)),down:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("down",a)),up:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),u("up",a))})}function Cs(e){const t=Qe(e.id);return O({id:t},e)}function ws(e,t,r){return e=ms(e,t,r),ve(e,r,"activeId","setActiveId"),ve(e,r,"includesBaseElement"),ve(e,r,"virtualFocus"),ve(e,r,"orientation"),ve(e,r,"rtl"),ve(e,r,"focusLoop"),ve(e,r,"focusWrap"),ve(e,r,"focusShift"),e}function wr(e={}){const t=nn(e.store,pr(e.disclosure,["contentElement","disclosureElement"]));Pt(e,t);const r=t==null?void 0:t.getState(),n=G(e.open,r==null?void 0:r.open,e.defaultOpen,!1),o=G(e.animated,r==null?void 0:r.animated,!1),s={open:n,animated:o,animating:!!o&&n,mounted:n,contentElement:G(r==null?void 0:r.contentElement,null),disclosureElement:G(r==null?void 0:r.disclosureElement,null)},i=$e(s,t);return Ee(i,()=>Ce(i,["animated","animating"],u=>{u.animated||i.setState("animating",!1)})),Ee(i,()=>tn(i,["open"],()=>{i.getState().animated&&i.setState("animating",!0)})),Ee(i,()=>Ce(i,["open","animating"],u=>{i.setState("mounted",u.open||u.animating)})),ye(oe({},i),{disclosure:e.disclosure,setOpen:u=>i.setState("open",u),show:()=>i.setState("open",!0),hide:()=>i.setState("open",!1),toggle:()=>i.setState("open",u=>!u),stopAnimation:()=>i.setState("animating",!1),setContentElement:u=>i.setState("contentElement",u),setDisclosureElement:u=>i.setState("disclosureElement",u)})}function Pr(e,t,r){return ct(t,[r.store,r.disclosure]),ve(e,r,"open","setOpen"),ve(e,r,"mounted","setMounted"),ve(e,r,"animated"),Object.assign(e,{disclosure:r.disclosure})}function Ps(e={}){const[t,r]=rn(wr,e);return Pr(t,r,e)}function Ir(e={}){return wr(e)}function Or(e,t,r){return Pr(e,t,r)}function Is(e={}){const[t,r]=rn(Ir,e);return Or(t,r,e)}function Os(e={}){var t=e,{popover:r}=t,n=er(t,["popover"]);const o=nn(n.store,pr(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"]));Pt(n,o);const s=o==null?void 0:o.getState(),i=Ir(ye(oe({},n),{store:o})),u=G(n.placement,s==null?void 0:s.placement,"bottom"),a=ye(oe({},i.getState()),{placement:u,currentPlacement:u,anchorElement:G(s==null?void 0:s.anchorElement,null),popoverElement:G(s==null?void 0:s.popoverElement,null),arrowElement:G(s==null?void 0:s.arrowElement,null),rendered:Symbol("rendered")}),l=$e(a,i,o);return ye(oe(oe({},i),l),{setAnchorElement:v=>l.setState("anchorElement",v),setPopoverElement:v=>l.setState("popoverElement",v),setArrowElement:v=>l.setState("arrowElement",v),render:()=>l.setState("rendered",Symbol("rendered"))})}function As(e,t,r){return ct(t,[r.popover]),ve(e,r,"placement"),Or(e,t,r)}var Ds=wt()&&ur();function Ts(e={}){var t=e,{tag:r}=t,n=er(t,["tag"]);const o=nn(n.store,as(r,["value","rtl"]));Pt(n,o);const s=r==null?void 0:r.getState(),i=o==null?void 0:o.getState(),u=G(n.activeId,i==null?void 0:i.activeId,n.defaultActiveId,null),a=Es(ye(oe({},n),{activeId:u,includesBaseElement:G(n.includesBaseElement,i==null?void 0:i.includesBaseElement,!0),orientation:G(n.orientation,i==null?void 0:i.orientation,"vertical"),focusLoop:G(n.focusLoop,i==null?void 0:i.focusLoop,!0),focusWrap:G(n.focusWrap,i==null?void 0:i.focusWrap,!0),virtualFocus:G(n.virtualFocus,i==null?void 0:i.virtualFocus,!0)})),l=Os(ye(oe({},n),{placement:G(n.placement,i==null?void 0:i.placement,"bottom-start")})),v=G(n.value,i==null?void 0:i.value,n.defaultValue,""),p=G(n.selectedValue,i==null?void 0:i.selectedValue,s==null?void 0:s.values,n.defaultSelectedValue,""),f=Array.isArray(p),E=ye(oe(oe({},a.getState()),l.getState()),{value:v,selectedValue:p,resetValueOnSelect:G(n.resetValueOnSelect,i==null?void 0:i.resetValueOnSelect,f),resetValueOnHide:G(n.resetValueOnHide,i==null?void 0:i.resetValueOnHide,f&&!r),activeValue:i==null?void 0:i.activeValue}),b=$e(E,a,l,o);return Ds&&Ee(b,()=>Ce(b,["virtualFocus"],()=>{b.setState("virtualFocus",!1)})),Ee(b,()=>{if(r)return Te(Ce(b,["selectedValue"],h=>{Array.isArray(h.selectedValue)&&r.setValues(h.selectedValue)}),Ce(r,["values"],h=>{b.setState("selectedValue",h.values)}))}),Ee(b,()=>Ce(b,["resetValueOnHide","mounted"],h=>{h.resetValueOnHide&&(h.mounted||b.setState("value",v))})),Ee(b,()=>Ce(b,["open"],h=>{h.open||(b.setState("activeId",u),b.setState("moves",0))})),Ee(b,()=>Ce(b,["moves","activeId"],(h,F)=>{h.moves===F.moves&&b.setState("activeValue",void 0)})),Ee(b,()=>Et(b,["moves","renderedItems"],(h,F)=>{if(h.moves===F.moves)return;const{activeId:w}=b.getState(),A=a.item(w);b.setState("activeValue",A==null?void 0:A.value)})),ye(oe(oe(oe({},l),a),b),{tag:r,setValue:h=>b.setState("value",h),resetValue:()=>b.setState("value",E.value),setSelectedValue:h=>b.setState("selectedValue",h)})}function _s(e){const t=us();return e=$(O({},e),{tag:e.tag!==void 0?e.tag:t}),Cs(e)}function Fs(e,t,r){return ct(t,[r.tag]),ve(e,r,"value","setValue"),ve(e,r,"selectedValue","setSelectedValue"),ve(e,r,"resetValueOnHide"),ve(e,r,"resetValueOnSelect"),Object.assign(ws(As(e,t,r),t,r),{tag:r.tag})}function Rs(e={}){e=_s(e);const[t,r]=rn(Ts,e);return Fs(t,r,e)}var dt=et();dt.useContext;dt.useScopedContext;var on=dt.useProviderContext,ks=dt.ContextProvider,Ms=dt.ScopedContextProvider,sn=et([ks],[Ms]),It=sn.useProviderContext,Vs=sn.ContextProvider,un=sn.ScopedContextProvider,Ls=c.createContext(void 0),Ns=c.createContext(void 0),vt=et([Vs],[un]);vt.useContext;vt.useScopedContext;var an=vt.useProviderContext,js=vt.ContextProvider,Ar=vt.ScopedContextProvider,Dr=c.createContext(void 0),mt=et([js,Qt],[Ar,mr]),$s=mt.useContext,cn=mt.useScopedContext,Ot=mt.useProviderContext,Ks=mt.ContextProvider,Bs=mt.ScopedContextProvider,Tr=c.createContext(void 0),_r=c.createContext(!1),Hs="div",Fr=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const s=an();return n=n||s,o=$(O({},o),{ref:he(n==null?void 0:n.setAnchorElement,o.ref)}),o});J(function(t){const r=Fr(t);return Q(Hs,r)});function zs(e,t){return e.find(r=>!r.disabled)}function Ue(e,t){return t&&e.item(t)||null}function Ws(e){const t=[];for(const r of e){const n=t.find(o=>{var s;return((s=o[0])==null?void 0:s.rowId)===r.rowId});n?n.push(r):t.push([r])}return t}function Us(e,t=!1){if(Be(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const r=se(e).getSelection();r==null||r.selectAllChildren(e),t&&(r==null||r.collapseToEnd())}}var Kt=Symbol("FOCUS_SILENTLY");function qs(e){e[Kt]=!0,e.focus({preventScroll:!0})}function Ys(e){const t=e[Kt];return delete e[Kt],t}function at(e,t,r){return!(!t||t===r||!e.item(t.id))}var Rr=c.createContext(!0),At="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function Gs(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function ke(e){return!(!e.matches(At)||!sr(e)||e.closest("[inert]"))}function Ct(e){if(!ke(e)||Gs(e))return!1;if(!("form"in e)||!e.form||e.checked||e.type!=="radio")return!0;const t=e.form.elements.namedItem(e.name);if(!t||!("length"in t))return!0;const r=Ke(e);return!r||r===e||!("form"in r)||r.form!==e.form||r.name!==e.name}function ln(e,t){const r=Array.from(e.querySelectorAll(At));t&&r.unshift(e);const n=r.filter(ke);return n.forEach((o,s)=>{if(qt(o)&&o.contentDocument){const i=o.contentDocument.body;n.splice(s,1,...ln(i))}}),n}function Dt(e,t,r){const n=Array.from(e.querySelectorAll(At)),o=n.filter(Ct);return t&&Ct(e)&&o.unshift(e),o.forEach((s,i)=>{if(qt(s)&&s.contentDocument){const u=s.contentDocument.body,a=Dt(u,!1,r);o.splice(i,1,...a)}}),!o.length&&r?n:o}function Xs(e,t,r){const[n]=Dt(e,t,r);return n||null}function Js(e,t,r,n){const o=Ke(e),s=ln(e,t),i=s.indexOf(o);return s.slice(i+1).find(Ct)||null||null||null}function Ft(e,t){return Js(document.body,!1)}function Zs(e,t,r,n){const o=Ke(e),s=ln(e,t).reverse(),i=s.indexOf(o);return s.slice(i+1).find(Ct)||null||null||null}function On(e,t){return Zs(document.body,!1)}function Qs(e){for(;e&&!ke(e);)e=e.closest(At);return e||null}function Je(e){const t=Ke(e);if(!t)return!1;if(t===e)return!0;const r=t.getAttribute("aria-activedescendant");return r?r===e.id:!1}function kr(e){const t=Ke(e);if(!t)return!1;if(me(e,t))return!0;const r=t.getAttribute("aria-activedescendant");return!r||!("id"in e)?!1:r===e.id?!0:!!e.querySelector(`#${CSS.escape(r)}`)}function Mr(e){!kr(e)&&ke(e)&&e.focus()}function ei(e){var t;const r=(t=e.getAttribute("tabindex"))!=null?t:"";e.setAttribute("data-tabindex",r),e.setAttribute("tabindex","-1")}function ti(e,t){const r=Dt(e,t);for(const n of r)ei(n)}function ni(e){const t=e.querySelectorAll("[data-tabindex]"),r=n=>{const o=n.getAttribute("data-tabindex");n.removeAttribute("data-tabindex"),o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")};e.hasAttribute("data-tabindex")&&r(e);for(const n of t)r(n)}function ri(e,t){"scrollIntoView"in e?(e.focus({preventScroll:!0}),e.scrollIntoView(oe({block:"nearest",inline:"nearest"},t))):e.focus()}var oi="div",An=wt(),si=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Vr=Symbol("safariFocusAncestor");function ii(e){return e?!!e[Vr]:!1}function Dn(e,t){e&&(e[Vr]=t)}function ui(e){const{tagName:t,readOnly:r,type:n}=e;return t==="TEXTAREA"&&!r||t==="SELECT"&&!r?!0:t==="INPUT"&&!r?si.includes(n):!!(e.isContentEditable||e.getAttribute("role")==="combobox"&&e.dataset.name)}function ai(e){return"labels"in e?e.labels:null}function Tn(e){return e.tagName.toLowerCase()==="input"&&e.type?e.type==="radio"||e.type==="checkbox":!1}function ci(e){return e?e==="button"||e==="summary"||e==="input"||e==="select"||e==="textarea"||e==="a":!0}function li(e){return e?e==="button"||e==="input"||e==="select"||e==="textarea":!0}function fi(e,t,r,n,o){return e?t?r&&!n?-1:void 0:r?o:o||0:o}function Rt(e,t){return W(r=>{e==null||e(r),!r.defaultPrevented&&t&&(r.stopPropagation(),r.preventDefault())})}var fn=!0;function di(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(fn=!1))}function vi(e){e.metaKey||e.ctrlKey||e.altKey||(fn=!0)}var Tt=ee(function(t){var r=t,{focusable:n=!0,accessibleWhenDisabled:o,autoFocus:s,onFocusVisible:i}=r,u=Z(r,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=c.useRef(null);c.useEffect(()=>{n&&(Re("mousedown",di,!0),Re("keydown",vi,!0))},[n]),An&&c.useEffect(()=>{if(!n)return;const y=a.current;if(!y||!Tn(y))return;const k=ai(y);if(!k)return;const N=()=>queueMicrotask(()=>y.focus());for(const g of k)g.addEventListener("mouseup",N);return()=>{for(const g of k)g.removeEventListener("mouseup",N)}},[n]);const l=n&&Ut(u),v=!!l&&!o,[p,f]=c.useState(!1);c.useEffect(()=>{n&&v&&p&&f(!1)},[n,v,p]),c.useEffect(()=>{if(!n||!p)return;const y=a.current;if(!y||typeof IntersectionObserver>"u")return;const k=new IntersectionObserver(()=>{ke(y)||f(!1)});return k.observe(y),()=>k.disconnect()},[n,p]);const E=Rt(u.onKeyPressCapture,l),b=Rt(u.onMouseDownCapture,l),h=Rt(u.onClickCapture,l),F=u.onMouseDown,w=W(y=>{if(F==null||F(y),y.defaultPrevented||!n)return;const k=y.currentTarget;if(!An||ar(y)||!qe(k)&&!Tn(k))return;let N=!1;const g=()=>{N=!0},j={capture:!0,once:!0};k.addEventListener("focusin",g,j);const z=Qs(k.parentElement);Dn(z,!0),ot(k,"mouseup",()=>{k.removeEventListener("focusin",g,!0),Dn(z,!1),!N&&Mr(k)})}),A=(y,k)=>{if(k&&(y.currentTarget=k),!n)return;const N=y.currentTarget;N&&Je(N)&&(i==null||i(y),!y.defaultPrevented&&(N.dataset.focusVisible="true",f(!0)))},x=u.onKeyDownCapture,m=W(y=>{if(x==null||x(y),y.defaultPrevented||!n||p||y.metaKey||y.altKey||y.ctrlKey||!De(y))return;const k=y.currentTarget;ot(k,"focusout",()=>A(y,k))}),C=u.onFocusCapture,I=W(y=>{if(C==null||C(y),y.defaultPrevented||!n)return;if(!De(y)){f(!1);return}const k=y.currentTarget,N=()=>A(y,k);fn||ui(y.target)?ot(y.target,"focusout",N):f(!1)}),D=u.onBlur,R=W(y=>{D==null||D(y),n&&Xe(y)&&f(!1)}),S=c.useContext(Rr),V=W(y=>{n&&s&&y&&S&&queueMicrotask(()=>{Je(y)||ke(y)&&y.focus()})}),H=cr(a),B=n&&ci(H),d=n&&li(H),P=u.style,M=c.useMemo(()=>v?O({pointerEvents:"none"},P):P,[v,P]);return u=$(O({"data-focus-visible":n&&p||void 0,"data-autofocus":s||void 0,"aria-disabled":l||void 0},u),{ref:he(a,V,u.ref),style:M,tabIndex:fi(n,v,B,d,u.tabIndex),disabled:d&&v?!0:void 0,contentEditable:l?void 0:u.contentEditable,onKeyPressCapture:E,onClickCapture:h,onMouseDownCapture:b,onMouseDown:w,onKeyDownCapture:m,onFocusCapture:I,onBlur:R}),Ye(u)});J(function(t){const r=Tt(t);return Q(oi,r)});var mi="div";function pi(e){return e.some(t=>!!t.rowId)}function bi(e){const t=e.target;return t&&!Be(t)?!1:e.key.length===1&&!e.ctrlKey&&!e.metaKey}function gi(e){return e.key==="Shift"||e.key==="Control"||e.key==="Alt"||e.key==="Meta"}function _n(e,t,r){return W(n=>{var o;if(t==null||t(n),n.defaultPrevented||n.isPropagationStopped()||!De(n)||gi(n)||bi(n))return;const s=e.getState(),i=(o=Ue(e,s.activeId))==null?void 0:o.element;if(!i)return;const u=n,a=Z(u,["view"]),l=r==null?void 0:r.current;i!==l&&i.focus(),Wo(i,n.type,a)||n.preventDefault(),n.currentTarget.contains(i)&&n.stopPropagation()})}function hi(e){return zs(yr($t(Ws(e))))}function xi(e){const[t,r]=c.useState(!1),n=c.useCallback(()=>r(!0),[]),o=e.useState(s=>Ue(e,s.activeId));return c.useEffect(()=>{const s=o==null?void 0:o.element;t&&s&&(r(!1),s.focus({preventScroll:!0}))},[o,t]),n}var Lr=ee(function(t){var r=t,{store:n,composite:o=!0,focusOnMove:s=o,moveOnKeyPress:i=!0}=r,u=Z(r,["store","composite","focusOnMove","moveOnKeyPress"]);const a=rs();n=n||a,Ie(n,"Composite must receive a `store` prop or be wrapped in a CompositeProvider component.");const l=c.useRef(null),v=c.useRef(null),p=xi(n),f=n.useState("moves"),[,E]=Yo(o?n.setBaseElement:null);c.useEffect(()=>{var d;if(!n||!f||!o||!s)return;const{activeId:P}=n.getState(),M=(d=Ue(n,P))==null?void 0:d.element;M&&ri(M)},[n,f,o,s]),X(()=>{if(!n||!f||!o)return;const{baseElement:d,activeId:P}=n.getState();if(!(P===null)||!d)return;const y=v.current;v.current=null,y&&rt(y,{relatedTarget:d}),Je(d)||d.focus()},[n,f,o]);const b=n.useState("activeId"),h=n.useState("virtualFocus");X(()=>{var d;if(!n||!o||!h)return;const P=v.current;if(v.current=null,!P)return;const y=((d=Ue(n,b))==null?void 0:d.element)||Ke(P);y!==P&&rt(P,{relatedTarget:y})},[n,b,h,o]);const F=_n(n,u.onKeyDownCapture,v),w=_n(n,u.onKeyUpCapture,v),A=u.onFocusCapture,x=W(d=>{if(A==null||A(d),d.defaultPrevented||!n)return;const{virtualFocus:P}=n.getState();if(!P)return;const M=d.relatedTarget,y=Ys(d.currentTarget);De(d)&&y&&(d.stopPropagation(),v.current=M)}),m=u.onFocus,C=W(d=>{if(m==null||m(d),d.defaultPrevented||!o||!n)return;const{relatedTarget:P}=d,{virtualFocus:M}=n.getState();M?De(d)&&!at(n,P)&&queueMicrotask(p):De(d)&&n.setActiveId(null)}),I=u.onBlurCapture,D=W(d=>{var P;if(I==null||I(d),d.defaultPrevented||!n)return;const{virtualFocus:M,activeId:y}=n.getState();if(!M)return;const k=(P=Ue(n,y))==null?void 0:P.element,N=d.relatedTarget,g=at(n,N),j=v.current;v.current=null,De(d)&&g?(N===k?j&&j!==N&&rt(j,d):k?rt(k,d):j&&rt(j,d),d.stopPropagation()):!at(n,d.target)&&k&&rt(k,d)}),R=u.onKeyDown,S=ue(i),V=W(d=>{var P;if(R==null||R(d),d.defaultPrevented||!n||!De(d))return;const{orientation:M,renderedItems:y,activeId:k}=n.getState(),N=Ue(n,k);if((P=N==null?void 0:N.element)!=null&&P.isConnected)return;const g=M!=="horizontal",j=M!=="vertical",z=pi(y);if((d.key==="ArrowLeft"||d.key==="ArrowRight"||d.key==="Home"||d.key==="End")&&Be(d.currentTarget))return;const re={ArrowUp:(z||g)&&(()=>{if(z){const pe=hi(y);return pe==null?void 0:pe.id}return n==null?void 0:n.last()}),ArrowRight:(z||j)&&n.first,ArrowDown:(z||g)&&n.first,ArrowLeft:(z||j)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last}[d.key];if(re){const pe=re();if(pe!==void 0){if(!S(d))return;d.preventDefault(),n.move(pe)}}});u=we(u,d=>T.jsx(Qt,{value:n,children:d}),[n]);const H=n.useState(d=>{var P;if(n&&o&&d.virtualFocus)return(P=Ue(n,d.activeId))==null?void 0:P.id});u=$(O({"aria-activedescendant":H},u),{ref:he(l,E,u.ref),onKeyDownCapture:F,onKeyUpCapture:w,onFocusCapture:x,onFocus:C,onBlurCapture:D,onKeyDown:V});const B=n.useState(d=>o&&(d.virtualFocus||d.activeId===null));return u=Tt(O({focusable:B},u)),u});J(function(t){const r=Lr(t);return Q(mi,r)});var Si="input";function Fn(e,t,r){if(!r)return!1;const n=e.find(o=>!o.disabled&&o.value);return(n==null?void 0:n.value)===t}function Rn(e,t){return!t||e==null?!1:(e=tr(e),t.length>e.length&&t.toLowerCase().indexOf(e.toLowerCase())===0)}function yi(e){return e.type==="input"}function Ei(e){return e==="inline"||e==="list"||e==="both"||e==="none"}function Ci(e){const t=e.find(r=>{var n;return r.disabled?!1:((n=r.element)==null?void 0:n.getAttribute("role"))!=="tab"});return t==null?void 0:t.id}var wi=ee(function(t){var r=t,{store:n,focusable:o=!0,autoSelect:s=!1,getAutoSelectId:i,setValueOnChange:u,showMinLength:a=0,showOnChange:l,showOnMouseDown:v,showOnClick:p=v,showOnKeyDown:f,showOnKeyPress:E=f,blurActiveItemOnClick:b,setValueOnClick:h=!0,moveOnKeyPress:F=!0,autoComplete:w="list"}=r,A=Z(r,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const x=Ot();n=n||x,Ie(n,"Combobox must receive a `store` prop or be wrapped in a ComboboxProvider component.");const m=c.useRef(null),[C,I]=lr(),D=c.useRef(!1),R=c.useRef(!1),S=n.useState(_=>_.virtualFocus&&s),V=w==="inline"||w==="both",[H,B]=c.useState(V);Xo(()=>{V&&B(!0)},[V]);const d=n.useState("value"),P=c.useRef();c.useEffect(()=>Ce(n,["selectedValue","activeId"],(_,U)=>{P.current=U.selectedValue}),[]);const M=n.useState(_=>{var U;if(V&&H&&!(_.activeValue&&Array.isArray(_.selectedValue)&&(_.selectedValue.includes(_.activeValue)||(U=P.current)!=null&&U.includes(_.activeValue))))return _.activeValue}),y=n.useState("renderedItems"),k=n.useState("open"),N=n.useState("contentElement"),g=c.useMemo(()=>{if(!V||!H)return d;if(Fn(y,M,S)){if(Rn(d,M)){const U=(M==null?void 0:M.slice(d.length))||"";return d+U}return d}return M||d},[V,H,y,M,S,d]);c.useEffect(()=>{const _=m.current;if(!_)return;const U=()=>B(!0);return _.addEventListener("combobox-item-move",U),()=>{_.removeEventListener("combobox-item-move",U)}},[]),c.useEffect(()=>{if(!V||!H||!M||!Fn(y,M,S)||!Rn(d,M))return;let U=ut;return queueMicrotask(()=>{const ie=m.current;if(!ie)return;const{start:ce,end:Ae}=jt(ie),Ne=d.length,ge=M.length;_t(ie,Ne,ge),U=()=>{if(!Je(ie))return;const{start:Ge,end:ro}=jt(ie);Ge===Ne&&ro===ge&&_t(ie,ce,Ae)}}),()=>U()},[C,V,H,M,y,S,d]);const j=c.useRef(null),z=W(i),te=c.useRef(null);c.useEffect(()=>{if(!k||!N)return;const _=Yt(N);if(!_)return;j.current=_;const U=()=>{D.current=!1},ie=()=>{if(!n||!D.current)return;const{activeId:Ae}=n.getState();Ae!==null&&Ae!==te.current&&(D.current=!1)},ce={passive:!0,capture:!0};return _.addEventListener("wheel",U,ce),_.addEventListener("touchmove",U,ce),_.addEventListener("scroll",ie,ce),()=>{_.removeEventListener("wheel",U,!0),_.removeEventListener("touchmove",U,!0),_.removeEventListener("scroll",ie,!0)}},[k,N,n]),X(()=>{d&&(R.current||(D.current=!0))},[d]),X(()=>{S!=="always"&&k||(D.current=k)},[S,k]);const ae=n.useState("resetValueOnSelect");ct(()=>{var _,U;const ie=D.current;if(!n||!k||!ie&&!ae)return;const{baseElement:ce,contentElement:Ae,activeId:Ne}=n.getState();if(!(ce&&!Je(ce))){if(Ae!=null&&Ae.hasAttribute("data-placing")){const ge=new MutationObserver(I);return ge.observe(Ae,{attributeFilter:["data-placing"]}),()=>ge.disconnect()}if(S&&ie){const ge=z(y),Ge=ge!==void 0?ge:(_=Ci(y))!=null?_:n.first();te.current=Ge,n.move(Ge??null)}else{const ge=(U=n.item(Ne||n.first()))==null?void 0:U.element;ge&&"scrollIntoView"in ge&&ge.scrollIntoView({block:"nearest",inline:"nearest"})}}},[n,k,C,d,S,ae,z,y]),c.useEffect(()=>{if(!V)return;const _=m.current;if(!_)return;const U=[_,N].filter(ce=>!!ce),ie=ce=>{U.every(Ae=>Xe(ce,Ae))&&(n==null||n.setValue(g))};for(const ce of U)ce.addEventListener("focusout",ie);return()=>{for(const ce of U)ce.removeEventListener("focusout",ie)}},[V,N,n,g]);const ne=_=>_.currentTarget.value.length>=a,re=A.onChange,pe=ue(l??ne),_e=ue(u??!n.tag),le=W(_=>{if(re==null||re(_),_.defaultPrevented||!n)return;const U=_.currentTarget,{value:ie,selectionStart:ce,selectionEnd:Ae}=U,Ne=_.nativeEvent;if(D.current=!0,yi(Ne)&&(Ne.isComposing&&(D.current=!1,R.current=!0),V)){const ge=Ne.inputType==="insertText"||Ne.inputType==="insertCompositionText",Ge=ce===ie.length;B(ge&&Ge)}if(_e(_)){const ge=ie===n.getState().value;n.setValue(ie),queueMicrotask(()=>{_t(U,ce,Ae)}),V&&S&&ge&&I()}pe(_)&&n.show(),(!S||!D.current)&&n.setActiveId(null)}),be=A.onCompositionEnd,K=W(_=>{D.current=!0,R.current=!1,be==null||be(_),!_.defaultPrevented&&S&&I()}),xe=A.onMouseDown,de=ue(b??(()=>!!(n!=null&&n.getState().includesBaseElement))),Fe=ue(h),Me=ue(p??ne),He=W(_=>{xe==null||xe(_),!_.defaultPrevented&&(_.button||_.ctrlKey||n&&(de(_)&&n.setActiveId(null),Fe(_)&&n.setValue(g),Me(_)&&ot(_.currentTarget,"mouseup",n.show)))}),Le=A.onKeyDown,ze=ue(E??ne),L=W(_=>{if(Le==null||Le(_),_.repeat||(D.current=!1),_.defaultPrevented||_.ctrlKey||_.altKey||_.shiftKey||_.metaKey||!n)return;const{open:U}=n.getState();U||(_.key==="ArrowUp"||_.key==="ArrowDown")&&ze(_)&&(_.preventDefault(),n.show())}),q=A.onBlur,fe=W(_=>{D.current=!1,q==null||q(_),_.defaultPrevented}),Y=Qe(A.id),Se=Ei(w)?w:void 0,Oe=n.useState(_=>_.activeId===null);return A=$(O({id:Y,role:"combobox","aria-autocomplete":Se,"aria-haspopup":ir(N,"listbox"),"aria-expanded":k,"aria-controls":N==null?void 0:N.id,"data-active-item":Oe||void 0,value:g},A),{ref:he(m,A.ref),onChange:le,onCompositionEnd:K,onMouseDown:He,onKeyDown:L,onBlur:fe}),A=Lr($(O({store:n,focusable:o},A),{moveOnKeyPress:_=>rr(F,_)?!1:(V&&B(!0),!0)})),A=Fr(O({store:n},A)),O({autoComplete:"off"},A)}),Pi=J(function(t){const r=wi(t);return Q(Si,r)});function Ii(e={}){const t=Rs(e);return T.jsx(Ks,{value:t,children:e.children})}var Oi="button";function kn(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return e.key==="Enter"?qe(t)||t.tagName==="SUMMARY"||t.tagName==="A":e.key===" "?qe(t)||t.tagName==="SUMMARY"||t.tagName==="INPUT"||t.tagName==="SELECT":!1}var Ai=Symbol("command"),dn=ee(function(t){var r=t,{clickOnEnter:n=!0,clickOnSpace:o=!0}=r,s=Z(r,["clickOnEnter","clickOnSpace"]);const i=c.useRef(null),[u,a]=c.useState(!1);c.useEffect(()=>{i.current&&a(qe(i.current))},[]);const[l,v]=c.useState(!1),p=c.useRef(!1),f=Ut(s),[E,b]=dr(s,Ai,!0),h=s.onKeyDown,F=W(x=>{h==null||h(x);const m=x.currentTarget;if(x.defaultPrevented||E||f||!De(x)||Be(m)||m.isContentEditable)return;const C=n&&x.key==="Enter",I=o&&x.key===" ",D=x.key==="Enter"&&!n,R=x.key===" "&&!o;if(D||R){x.preventDefault();return}if(C||I){const S=kn(x);if(C){if(!S){x.preventDefault();const V=x,H=Z(V,["view"]),B=()=>yn(m,H);Ko()?ot(m,"keyup",B):queueMicrotask(B)}}else I&&(p.current=!0,S||(x.preventDefault(),v(!0)))}}),w=s.onKeyUp,A=W(x=>{if(w==null||w(x),x.defaultPrevented||E||f||x.metaKey)return;const m=o&&x.key===" ";if(p.current&&m&&(p.current=!1,!kn(x))){x.preventDefault(),v(!1);const C=x.currentTarget,I=x,D=Z(I,["view"]);queueMicrotask(()=>yn(C,D))}});return s=$(O(O({"data-active":l||void 0,type:u?"button":void 0},b),s),{ref:he(i,s.ref),onKeyDown:F,onKeyUp:A}),s=Tt(s),s});J(function(t){const r=dn(t);return Q(Oi,r)});var Nr="button",jr=ee(function(t){const r=c.useRef(null),n=cr(r,Nr),[o,s]=c.useState(()=>!!n&&qe({tagName:n,type:t.type}));return c.useEffect(()=>{r.current&&s(qe(r.current))},[]),t=$(O({role:!o&&n!=="a"?"button":void 0},t),{ref:he(r,t.ref)}),t=dn(t),t});J(function(t){const r=jr(t);return Q(Nr,r)});var Di="button",Ti=Symbol("disclosure"),$r=ee(function(t){var r=t,{store:n,toggleOnClick:o=!0}=r,s=Z(r,["store","toggleOnClick"]);const i=on();n=n||i,Ie(n,"Disclosure must receive a `store` prop or be wrapped in a DisclosureProvider component.");const u=c.useRef(null),[a,l]=c.useState(!1),v=n.useState("disclosureElement"),p=n.useState("open");c.useEffect(()=>{let A=v===u.current;v!=null&&v.isConnected||(n==null||n.setDisclosureElement(u.current),A=!0),l(p&&A)},[v,n,p]);const f=s.onClick,E=ue(o),[b,h]=dr(s,Ti,!0),F=W(A=>{f==null||f(A),!A.defaultPrevented&&(b||E(A)&&(n==null||n.setDisclosureElement(A.currentTarget),n==null||n.toggle()))}),w=n.useState("contentElement");return s=$(O(O({"aria-expanded":a,"aria-controls":w==null?void 0:w.id},h),s),{ref:he(u,s.ref),onClick:F}),s=jr(s),s});J(function(t){const r=$r(t);return Q(Di,r)});var _i="button",Kr=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const s=It();n=n||s,Ie(n,"DialogDisclosure must receive a `store` prop or be wrapped in a DialogProvider component.");const i=n.useState("contentElement");return o=O({"aria-haspopup":ir(i,"dialog")},o),o=$r(O({store:n},o)),o});J(function(t){const r=Kr(t);return Q(_i,r)});var Fi="button",Ri=T.jsx("svg",{"aria-hidden":"true",display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",pointerEvents:"none",children:T.jsx("polyline",{points:"4,6 8,10 12,6"})}),ki=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const s=Ot();n=n||s,Ie(n,"ComboboxDisclosure must receive a `store` prop or be wrapped in a ComboboxProvider component.");const i=o.onMouseDown,u=W(p=>{i==null||i(p),p.preventDefault(),n==null||n.move(null)}),a=o.onClick,l=W(p=>{if(a==null||a(p),p.defaultPrevented||!n)return;const{baseElement:f}=n.getState();n.setDisclosureElement(f)}),v=n.useState("open");return o=$(O({children:Ri,tabIndex:-1,"aria-label":v?"Hide popup":"Show popup","aria-expanded":v},o),{onMouseDown:u,onClick:l}),o=Kr(O({store:n},o)),o}),Mi=J(function(t){const r=ki(t);return Q(Fi,r)}),Vi=c.createContext(!1),Li="span",Ni=T.jsx("svg",{display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",children:T.jsx("polyline",{points:"4,8 7,12 12,4"})});function ji(e){return e.checked?e.children||Ni:typeof e.children=="function"?e.children:null}var Br=ee(function(t){var r=t,{store:n,checked:o}=r,s=Z(r,["store","checked"]);const i=c.useContext(Vi);o=o??i;const u=ji({checked:o,children:s.children});return s=$(O({"aria-hidden":!0},s),{children:u,style:O({width:"1em",height:"1em",pointerEvents:"none"},s.style)}),Ye(s)});J(function(t){const r=Br(t);return Q(Li,r)});var $i="span",Ki=ee(function(t){var r=t,{store:n,checked:o}=r,s=Z(r,["store","checked"]);const i=c.useContext(_r);return o=o??i,s=Br($(O({},s),{checked:o})),s}),Bi=J(function(t){const r=Ki(t);return Q($i,r)}),Hi="span";function Mn(e){return tr(e).toLowerCase()}function zi(e,t){const r=[];for(const n of t){let o=0;const s=n.length;for(;e.indexOf(n,o)!==-1;){const i=e.indexOf(n,o);i!==-1&&r.push([i,s]),o=i+1}}return r}function Wi(e){return e.filter(([t,r],n,o)=>!o.some(([s,i],u)=>u!==n&&s<=t&&s+i>=t+r))}function Ui(e){return e.sort(([t],[r])=>t-r)}function qi(e,t){if(!e||!t)return e;const r=ps(t).filter(Boolean).map(Mn),n=[],o=(a,l=!1)=>T.jsx("span",{"data-autocomplete-value":l?"":void 0,"data-user-value":l?void 0:"",children:a},n.length),s=Ui(Wi(zi(Mn(e),new Set(r))));if(!s.length)return n.push(o(e,!0)),n;const[i]=s[0];return[e.slice(0,i),...s.flatMap(([a,l],v)=>{var p;const f=e.slice(a,a+l),E=(p=s[v+1])==null?void 0:p[0],b=e.slice(a+l,E);return[f,b]})].forEach((a,l)=>{a&&n.push(o(a,l%2===0))}),n}var Yi=ee(function(t){var r=t,{store:n,value:o,userValue:s}=r,i=Z(r,["store","value","userValue"]);const u=cn();n=n||u;const a=c.useContext(Tr),l=o??a,v=Pe(n,f=>s??(f==null?void 0:f.value)),p=c.useMemo(()=>{if(l)return v?qi(l,v):l},[l,v]);return i=O({children:p},i),Ye(i)}),Gi=J(function(t){const r=Yi(t);return Q(Hi,r)}),Xi="div";function Hr(e){const t=e.relatedTarget;return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}function Ji(e){const t=Hr(e);return t?me(e.currentTarget,t):!1}var Bt=Symbol("composite-hover");function Zi(e){let t=Hr(e);if(!t)return!1;do{if(Ve(t,Bt)&&t[Bt])return!0;t=t.parentElement}while(t);return!1}var zr=ee(function(t){var r=t,{store:n,focusOnHover:o=!0,blurOnHoverEnd:s=!!o}=r,i=Z(r,["store","focusOnHover","blurOnHoverEnd"]);const u=vr();n=n||u,Ie(n,"CompositeHover must be wrapped in a Composite component.");const a=Jo(),l=i.onMouseMove,v=ue(o),p=W(F=>{if(l==null||l(F),!F.defaultPrevented&&a()&&v(F)){if(!kr(F.currentTarget)){const w=n==null?void 0:n.getState().baseElement;w&&!Je(w)&&w.focus()}n==null||n.setActiveId(F.currentTarget.id)}}),f=i.onMouseLeave,E=ue(s),b=W(F=>{var w;f==null||f(F),!F.defaultPrevented&&a()&&(Ji(F)||Zi(F)||v(F)&&E(F)&&(n==null||n.setActiveId(null),(w=n==null?void 0:n.getState().baseElement)==null||w.focus()))}),h=c.useCallback(F=>{F&&(F[Bt]=!0)},[]);return i=$(O({},i),{ref:he(h,i.ref),onMouseMove:p,onMouseLeave:b}),Ye(i)});Zt(J(function(t){const r=zr(t);return Q(Xi,r)}));var Qi="div",Wr=ee(function(t){var r=t,{store:n,shouldRegisterItem:o=!0,getItem:s=nr,element:i}=r,u=Z(r,["store","shouldRegisterItem","getItem","element"]);const a=es();n=n||a;const l=Qe(u.id),v=c.useRef(i);return c.useEffect(()=>{const p=v.current;if(!l||!p||!o)return;const f=s({id:l,element:p});return n==null?void 0:n.renderItem(f)},[l,o,s,n]),u=$(O({},u),{ref:he(v,u.ref)}),Ye(u)});J(function(t){const r=Wr(t);return Q(Qi,r)});var eu="button";function tu(e){return Nt(e)?!0:e.tagName==="INPUT"&&!qe(e)}function nu(e,t=!1){const r=e.clientHeight,{top:n}=e.getBoundingClientRect(),o=Math.max(r*.875,r-40)*1.5,s=t?r-o+n:o+n;return e.tagName==="HTML"?s+e.scrollTop:s}function ru(e,t=!1){const{top:r}=e.getBoundingClientRect();return t?r+e.clientHeight:r}function Vn(e,t,r,n=!1){var o;if(!t||!r)return;const{renderedItems:s}=t.getState(),i=Yt(e);if(!i)return;const u=nu(i,n);let a,l;for(let v=0;v<s.length;v+=1){const p=a;if(a=r(v),!a)break;if(a===p)continue;const f=(o=Ue(t,a))==null?void 0:o.element;if(!f)continue;const b=ru(f,n)-u,h=Math.abs(b);if(n&&b<=0||!n&&b>=0){l!==void 0&&l<h&&(a=p);break}l=h}return a}function ou(e,t){return De(e)?!1:at(t,e.target)}var Ur=ee(function(t){var r=t,{store:n,rowId:o,preventScrollOnKeyDown:s=!1,moveOnKeyPress:i=!0,tabbable:u=!1,getItem:a,"aria-setsize":l,"aria-posinset":v}=r,p=Z(r,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const f=vr();n=n||f;const E=Qe(p.id),b=c.useRef(null),h=c.useContext(ss),w=Ut(p)&&!p.accessibleWhenDisabled,{rowId:A,baseElement:x,isActiveItem:m,ariaSetSize:C,ariaPosInSet:I,isTabbable:D}=Sr(n,{rowId(g){if(o)return o;if(g&&h!=null&&h.baseElement&&h.baseElement===g.baseElement)return h.id},baseElement(g){return(g==null?void 0:g.baseElement)||void 0},isActiveItem(g){return!!g&&g.activeId===E},ariaSetSize(g){if(l!=null)return l;if(g&&h!=null&&h.ariaSetSize&&h.baseElement===g.baseElement)return h.ariaSetSize},ariaPosInSet(g){if(v!=null)return v;if(!g||!(h!=null&&h.ariaPosInSet)||h.baseElement!==g.baseElement)return;const j=g.renderedItems.filter(z=>z.rowId===A);return h.ariaPosInSet+j.findIndex(z=>z.id===E)},isTabbable(g){if(!(g!=null&&g.renderedItems.length))return!0;if(g.virtualFocus)return!1;if(u)return!0;if(g.activeId===null)return!1;const j=n==null?void 0:n.item(g.activeId);return j!=null&&j.disabled||!(j!=null&&j.element)?!0:g.activeId===E}}),R=c.useCallback(g=>{var j;const z=$(O({},g),{id:E||g.id,rowId:A,disabled:!!w,children:(j=g.element)==null?void 0:j.textContent});return a?a(z):z},[E,A,w,a]),S=p.onFocus,V=c.useRef(!1),H=W(g=>{if(S==null||S(g),g.defaultPrevented||ar(g)||!E||!n||ou(g,n))return;const{virtualFocus:j,baseElement:z}=n.getState();if(n.setActiveId(E),Nt(g.currentTarget)&&Us(g.currentTarget),!j||!De(g)||tu(g.currentTarget)||!(z!=null&&z.isConnected))return;wt()&&g.currentTarget.hasAttribute("data-autofocus")&&g.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),V.current=!0,g.relatedTarget===z||at(n,g.relatedTarget)?qs(z):z.focus()}),B=p.onBlurCapture,d=W(g=>{if(B==null||B(g),g.defaultPrevented)return;const j=n==null?void 0:n.getState();j!=null&&j.virtualFocus&&V.current&&(V.current=!1,g.preventDefault(),g.stopPropagation())}),P=p.onKeyDown,M=ue(s),y=ue(i),k=W(g=>{if(P==null||P(g),g.defaultPrevented||!De(g)||!n)return;const{currentTarget:j}=g,z=n.getState(),te=n.item(E),ae=!!(te!=null&&te.rowId),ne=z.orientation!=="horizontal",re=z.orientation!=="vertical",pe=()=>!!(ae||re||!z.baseElement||!Be(z.baseElement)),le={ArrowUp:(ae||ne)&&n.up,ArrowRight:(ae||re)&&n.next,ArrowDown:(ae||ne)&&n.down,ArrowLeft:(ae||re)&&n.previous,Home:()=>{if(pe())return!ae||g.ctrlKey?n==null?void 0:n.first():n==null?void 0:n.previous(-1)},End:()=>{if(pe())return!ae||g.ctrlKey?n==null?void 0:n.last():n==null?void 0:n.next(-1)},PageUp:()=>Vn(j,n,n==null?void 0:n.up,!0),PageDown:()=>Vn(j,n,n==null?void 0:n.down)}[g.key];if(le){if(Nt(j)){const K=jt(j),xe=re&&g.key==="ArrowLeft",de=re&&g.key==="ArrowRight",Fe=ne&&g.key==="ArrowUp",Me=ne&&g.key==="ArrowDown";if(de||Me){const{length:He}=No(j);if(K.end!==He)return}else if((xe||Fe)&&K.start!==0)return}const be=le();if(M(g)||be!==void 0){if(!y(g))return;g.preventDefault(),n.move(be)}}}),N=c.useMemo(()=>({id:E,baseElement:x}),[E,x]);return p=we(p,g=>T.jsx(os.Provider,{value:N,children:g}),[N]),p=$(O({id:E,"data-active-item":m||void 0},p),{ref:he(b,p.ref),tabIndex:D?p.tabIndex:-1,onFocus:H,onBlurCapture:d,onKeyDown:k}),p=dn(p),p=Wr($(O({store:n},p),{getItem:R,shouldRegisterItem:E?p.shouldRegisterItem:!1})),Ye($(O({},p),{"aria-setsize":C,"aria-posinset":I}))});Zt(J(function(t){const r=Ur(t);return Q(eu,r)}));var su="div";function iu(e,t){if(t!=null)return e==null?!1:Array.isArray(e)?e.includes(t):e===t}function uu(e){var t;return(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])!=null?t:"option"}var au=ee(function(t){var r=t,{store:n,value:o,hideOnClick:s,setValueOnClick:i,selectValueOnClick:u=!0,resetValueOnSelect:a,focusOnHover:l=!1,moveOnKeyPress:v=!0,getItem:p}=r,f=Z(r,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]),E;const b=cn();n=n||b,Ie(n,"ComboboxItem must be wrapped in a ComboboxList or ComboboxPopover component.");const{resetValueOnSelectState:h,multiSelectable:F,selected:w}=Sr(n,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable(d){return Array.isArray(d.selectedValue)},selected(d){return iu(d.selectedValue,o)}}),A=c.useCallback(d=>{const P=$(O({},d),{value:o});return p?p(P):P},[o,p]);i=i??!F,s=s??(o!=null&&!F);const x=f.onClick,m=ue(i),C=ue(u),I=ue((E=a??h)!=null?E:F),D=ue(s),R=W(d=>{x==null||x(d),!d.defaultPrevented&&(zo(d)||Ho(d)||(o!=null&&(C(d)&&(I(d)&&(n==null||n.resetValue()),n==null||n.setSelectedValue(P=>Array.isArray(P)?P.includes(o)?P.filter(M=>M!==o):[...P,o]:o)),m(d)&&(n==null||n.setValue(o))),D(d)&&(n==null||n.hide())))}),S=f.onKeyDown,V=W(d=>{if(S==null||S(d),d.defaultPrevented)return;const P=n==null?void 0:n.getState().baseElement;if(!P||Je(P))return;(d.key.length===1||d.key==="Backspace"||d.key==="Delete")&&(queueMicrotask(()=>P.focus()),Be(P)&&(n==null||n.setValue(P.value)))});F&&w!=null&&(f=O({"aria-selected":w},f)),f=we(f,d=>T.jsx(Tr.Provider,{value:o,children:T.jsx(_r.Provider,{value:w??!1,children:d})}),[o,w]);const H=c.useContext(Dr);f=$(O({role:uu(H),children:o},f),{onClick:R,onKeyDown:V});const B=ue(v);return f=Ur($(O({store:n},f),{getItem:A,moveOnKeyPress:d=>{if(!B(d))return!1;const P=new Event("combobox-item-move"),M=n==null?void 0:n.getState().baseElement;return M==null||M.dispatchEvent(P),!0}})),f=zr(O({store:n,focusOnHover:l},f)),f}),Ln=Zt(J(function(t){const r=au(t);return Q(su,r)})),cu="div";function Nn(e,t){const r=setTimeout(t,e);return()=>clearTimeout(r)}function lu(e){let t=requestAnimationFrame(()=>{t=requestAnimationFrame(e)});return()=>cancelAnimationFrame(t)}function jn(...e){return e.join(", ").split(", ").reduce((t,r)=>{const n=r.endsWith("ms")?1:1e3,o=Number.parseFloat(r||"0s")*n;return o>t?o:t},0)}function vn(e,t,r){return!r&&t!==!1&&(!e||!!t)}var mn=ee(function(t){var r=t,{store:n,alwaysVisible:o}=r,s=Z(r,["store","alwaysVisible"]);const i=on();n=n||i,Ie(n,"DisclosureContent must receive a `store` prop or be wrapped in a DisclosureProvider component.");const u=c.useRef(null),a=Qe(s.id),[l,v]=c.useState(null),p=n.useState("open"),f=n.useState("mounted"),E=n.useState("animated"),b=n.useState("contentElement"),h=Pe(n.disclosure,"contentElement");X(()=>{u.current&&(n==null||n.setContentElement(u.current))},[n]),X(()=>{let x;return n==null||n.setState("animated",m=>(x=m,!0)),()=>{x!==void 0&&(n==null||n.setState("animated",x))}},[n]),X(()=>{if(E){if(!(b!=null&&b.isConnected)){v(null);return}return lu(()=>{v(p?"enter":f?"leave":null)})}},[E,b,p,f]),X(()=>{if(!n||!E||!l||!b)return;const x=()=>n==null?void 0:n.setState("animating",!1),m=()=>xt.flushSync(x);if(l==="leave"&&p||l==="enter"&&!p)return;if(typeof E=="number")return Nn(E,m);const{transitionDuration:C,animationDuration:I,transitionDelay:D,animationDelay:R}=getComputedStyle(b),{transitionDuration:S="0",animationDuration:V="0",transitionDelay:H="0",animationDelay:B="0"}=h?getComputedStyle(h):{},d=jn(D,R,H,B),P=jn(C,I,S,V),M=d+P;if(!M){l==="enter"&&n.setState("animated",!1),x();return}const y=1e3/60,k=Math.max(M-y,0);return Nn(k,m)},[n,E,b,h,p,l]),s=we(s,x=>T.jsx(un,{value:n,children:x}),[n]);const F=vn(f,s.hidden,o),w=s.style,A=c.useMemo(()=>F?$(O({},w),{display:"none"}):w,[F,w]);return s=$(O({id:a,"data-open":p||void 0,"data-enter":l==="enter"||void 0,"data-leave":l==="leave"||void 0,hidden:F},s),{ref:he(a?n.setContentElement:null,u,s.ref),style:A}),Ye(s)}),fu=J(function(t){const r=mn(t);return Q(cu,r)});J(function(t){var r=t,{unmountOnHide:n}=r,o=Z(r,["unmountOnHide"]);const s=on(),i=o.store||s;return Pe(i,a=>!n||(a==null?void 0:a.mounted))===!1?null:T.jsx(fu,O({},o))});var du="div",qr=ee(function(t){var r=t,{store:n,alwaysVisible:o}=r,s=Z(r,["store","alwaysVisible"]);const i=cn(!0),u=$s();n=n||u;const a=!!n&&n===i;Ie(n,"ComboboxList must receive a `store` prop or be wrapped in a ComboboxProvider component.");const l=c.useRef(null),v=Qe(s.id),p=n.useState("mounted"),f=vn(p,s.hidden,o),E=f?$(O({},s.style),{display:"none"}):s.style,b=n.useState(I=>Array.isArray(I.selectedValue)),h=Go(l,"role",s.role),w=(h==="listbox"||h==="tree"||h==="grid")&&b||void 0,[A,x]=c.useState(!1),m=n.useState("contentElement");X(()=>{if(!p)return;const I=l.current;if(!I||m!==I)return;const D=()=>{x(!!I.querySelector("[role='listbox']"))},R=new MutationObserver(D);return R.observe(I,{subtree:!0,childList:!0,attributeFilter:["role"]}),D(),()=>R.disconnect()},[p,m]),A||(s=O({role:"listbox","aria-multiselectable":w},s)),s=we(s,I=>T.jsx(Bs,{value:n,children:T.jsx(Dr.Provider,{value:h,children:I})}),[n,h]);const C=v&&(!i||!a)?n.setContentElement:null;return s=$(O({id:v,hidden:f},s),{ref:he(C,l,s.ref),style:E}),Ye(s)});J(function(t){const r=qr(t);return Q(du,r)});function Yr(e,...t){if(!e)return!1;const r=e.getAttribute("data-backdrop");return r==null?!1:r===""||r==="true"||!t.length?!0:t.some(n=>r===n)}var kt=new WeakMap;function pt(e,t,r){kt.has(e)||kt.set(e,new Map);const n=kt.get(e),o=n.get(t);if(!o)return n.set(t,r()),()=>{var u;(u=n.get(t))==null||u(),n.delete(t)};const s=r(),i=()=>{s(),o(),n.delete(t)};return n.set(t,i),()=>{n.get(t)===i&&(s(),n.set(t,o))}}function pn(e,t,r){return pt(e,t,()=>{const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o==null?e.removeAttribute(t):e.setAttribute(t,o)}})}function Ze(e,t,r){return pt(e,t,()=>{const o=t in e,s=e[t];return e[t]=r,()=>{o?e[t]=s:delete e[t]}})}function Ht(e,t){return e?pt(e,"style",()=>{const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}):()=>{}}function vu(e,t,r){return e?pt(e,t,()=>{const o=e.style.getPropertyValue(t);return e.style.setProperty(t,r),()=>{o?e.style.setProperty(t,o):e.style.removeProperty(t)}}):()=>{}}var mu=["SCRIPT","STYLE"];function zt(e){return`__ariakit-dialog-snapshot-${e}`}function pu(e,t){const r=se(t),n=zt(e);if(!r.body[n])return!0;do{if(t===r.body)return!1;if(t[n])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function bu(e,t,r){return mu.includes(t.tagName)||!pu(e,t)?!1:!r.some(n=>n&&me(t,n))}function bn(e,t,r,n){for(let o of t){if(!(o!=null&&o.isConnected))continue;const s=t.some(a=>!a||a===o?!1:a.contains(o)),i=se(o),u=o;for(;o.parentElement&&o!==i.body;){if(n==null||n(o.parentElement,u),!s)for(const a of o.parentElement.children)bu(e,a,t)&&r(a,u);o=o.parentElement}}}function gu(e,t){const{body:r}=se(t[0]),n=[];return bn(e,t,s=>{n.push(Ze(s,zt(e),!0))}),Te(Ze(r,zt(e),!0),()=>{for(const s of n)s()})}function st(e="",t=!1){return`__ariakit-dialog-${t?"ancestor":"outside"}${e?`-${e}`:""}`}function hu(e,t=""){return Te(Ze(e,st(),!0),Ze(e,st(t),!0))}function Gr(e,t=""){return Te(Ze(e,st("",!0),!0),Ze(e,st(t,!0),!0))}function gn(e,t){const r=st(t,!0);if(e[r])return!0;const n=st(t);do{if(e[n])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function $n(e,t){const r=[],n=t.map(s=>s==null?void 0:s.id);return bn(e,t,s=>{Yr(s,...n)||r.unshift(hu(s,e))},(s,i)=>{i.hasAttribute("data-dialog")&&i.id!==e||r.unshift(Gr(s,e))}),()=>{for(const s of r)s()}}var xu="div",Su=["a","button","details","dialog","div","form","h1","h2","h3","h4","h5","h6","header","img","input","label","li","nav","ol","p","section","select","span","summary","textarea","ul","svg"];ee(function(t){return t});var Wt=J(function(t){return Q(xu,t)});Object.assign(Wt,Su.reduce((e,t)=>(e[t]=J(function(n){return Q(t,n)}),e),{}));function yu({store:e,backdrop:t,alwaysVisible:r,hidden:n}){const o=c.useRef(null),s=Ps({disclosure:e}),i=Pe(e,"contentElement");c.useEffect(()=>{const l=o.current,v=i;l&&v&&(l.style.zIndex=getComputedStyle(v).zIndex)},[i]),X(()=>{const l=i==null?void 0:i.id;if(!l)return;const v=o.current;if(v)return Gr(v,l)},[i]);const u=mn({ref:o,store:s,role:"presentation","data-backdrop":(i==null?void 0:i.id)||"",alwaysVisible:r,hidden:n??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!t)return null;if(c.isValidElement(t))return T.jsx(Wt,$(O({},u),{render:t}));const a=typeof t!="boolean"?t:"div";return T.jsx(Wt,$(O({},u),{render:T.jsx(a,{})}))}function Eu(e,...t){if(!e)return!1;const r=e.getAttribute("data-focus-trap");return r==null?!1:t.length?r===""?!1:t.some(n=>r===n):!0}function Cu(e){return pn(e,"aria-hidden","true")}function Xr(){return"inert"in HTMLElement.prototype}function Jr(e,t){if(!("style"in e))return ut;if(Xr())return Ze(e,"inert",!0);const n=Dt(e,!0).map(o=>{if(t!=null&&t.some(i=>i&&me(i,o)))return ut;const s=pt(o,"focus",()=>(o.focus=ut,()=>{delete o.focus}));return Te(pn(o,"tabindex","-1"),s)});return Te(...n,Cu(e),Ht(e,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function wu(e,t){const r=[],n=t.map(s=>s==null?void 0:s.id);return bn(e,t,s=>{Yr(s,...n)||Eu(s,...n)||r.unshift(Jr(s,t))},s=>{s.hasAttribute("role")&&(t.some(i=>i&&me(i,s))||r.unshift(pn(s,"role","none")))}),()=>{for(const s of r)s()}}function Pu({attribute:e,contentId:t,contentElement:r,enabled:n}){const[o,s]=lr(),i=c.useCallback(()=>{if(!n||!r)return!1;const{body:u}=se(r),a=u.getAttribute(e);return!a||a===t},[o,n,r,e,t]);return c.useEffect(()=>{if(!n||!t||!r)return;const{body:u}=se(r);if(i())return u.setAttribute(e,t),()=>u.removeAttribute(e);const a=new MutationObserver(()=>xt.flushSync(s));return a.observe(u,{attributeFilter:[e]}),()=>a.disconnect()},[o,n,t,r,i,e]),i}function Iu(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Ou(e,t,r){const n=Pu({attribute:"data-dialog-prevent-body-scroll",contentElement:e,contentId:t,enabled:r});c.useEffect(()=>{if(!n()||!e)return;const o=se(e),s=or(e),{documentElement:i,body:u}=o,a=i.style.getPropertyValue("--scrollbar-width"),l=a?Number.parseInt(a):s.innerWidth-i.clientWidth,v=()=>vu(i,"--scrollbar-width",`${l}px`),p=Iu(i),f=()=>Ht(u,{overflow:"hidden",[p]:`${l}px`}),E=()=>{var h,F;const{scrollX:w,scrollY:A,visualViewport:x}=s,m=(h=x==null?void 0:x.offsetLeft)!=null?h:0,C=(F=x==null?void 0:x.offsetTop)!=null?F:0,I=Ht(u,{position:"fixed",overflow:"hidden",top:`${-(A-Math.floor(C))}px`,left:`${-(w-Math.floor(m))}px`,right:"0",[p]:`${l}px`});return()=>{I(),s.scrollTo({left:w,top:A,behavior:"instant"})}},b=Gt()&&!Bo();return Te(v(),b?E():f())},[n,e])}var Kn=c.createContext({});function Au(e){const t=c.useContext(Kn),[r,n]=c.useState([]),o=c.useCallback(u=>{var a;return n(l=>[...l,u]),Te((a=t.add)==null?void 0:a.call(t,u),()=>{n(l=>l.filter(v=>v!==u))})},[t]);X(()=>Ce(e,["open","contentElement"],u=>{var a;if(u.open&&u.contentElement)return(a=t.add)==null?void 0:a.call(t,e)}),[e,t]);const s=c.useMemo(()=>({store:e,add:o}),[e,o]);return{wrapElement:c.useCallback(u=>T.jsx(Kn.Provider,{value:s,children:u}),[s]),nestedDialogs:r}}function Du(e){const t=c.useRef();return c.useEffect(()=>{if(!e){t.current=null;return}return Re("mousedown",n=>{t.current=n.target},!0)},[e]),t}function Tu(e){return e.tagName==="HTML"?!0:me(se(e).body,e)}function _u(e,t){if(!e)return!1;if(me(e,t))return!0;const r=t.getAttribute("aria-activedescendant");if(r){const n=se(e).getElementById(r);if(n)return me(e,n)}return!1}function Fu(e,t){if(!("clientY"in e))return!1;const r=t.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=e.clientY&&e.clientY<=r.top+r.height&&r.left<=e.clientX&&e.clientX<=r.left+r.width}function Mt({store:e,type:t,listener:r,capture:n,domReady:o}){const s=W(r),i=Pe(e,"open"),u=c.useRef(!1);X(()=>{if(!i||!o)return;const{contentElement:a}=e.getState();if(!a)return;const l=()=>{u.current=!0};return a.addEventListener("focusin",l,!0),()=>a.removeEventListener("focusin",l,!0)},[e,i,o]),c.useEffect(()=>i?Re(t,l=>{const{contentElement:v,disclosureElement:p}=e.getState(),f=l.target;!v||!f||!Tu(f)||me(v,f)||_u(p,f)||f.hasAttribute("data-focus-trap")||Fu(l,v)||u.current&&!gn(f,v.id)||ii(f)||s(l)},n):void 0,[i,n])}function Vt(e,t){return typeof e=="function"?e(t):!!e}function Ru(e,t,r){const n=Pe(e,"open"),o=Du(n),s={store:e,domReady:r,capture:!0};Mt($(O({},s),{type:"click",listener:i=>{const{contentElement:u}=e.getState(),a=o.current;a&&sr(a)&&gn(a,u==null?void 0:u.id)&&Vt(t,i)&&e.hide()}})),Mt($(O({},s),{type:"focusin",listener:i=>{const{contentElement:u}=e.getState();u&&i.target!==se(u)&&Vt(t,i)&&e.hide()}})),Mt($(O({},s),{type:"contextmenu",listener:i=>{Vt(t,i)&&e.hide()}}))}function ku(e,t){const n=se(e).createElement("button");return n.type="button",n.tabIndex=-1,n.textContent="Dismiss popup",Object.assign(n.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),n.addEventListener("click",t),e.prepend(n),()=>{n.removeEventListener("click",t),n.remove()}}var Mu="div",Zr=ee(function(t){var r=t,{autoFocusOnShow:n=!0}=r,o=Z(r,["autoFocusOnShow"]);return o=we(o,s=>T.jsx(Rr.Provider,{value:n,children:s}),[n]),o});J(function(t){const r=Zr(t);return Q(Mu,r)});var Bn=c.createContext(0);function Vu({level:e,children:t}){const r=c.useContext(Bn),n=Math.max(Math.min(e||r+1,6),1);return T.jsx(Bn.Provider,{value:n,children:t})}var Lu="span",Qr=ee(function(t){return t=$(O({},t),{style:O({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},t.style)}),t});J(function(t){const r=Qr(t);return Q(Lu,r)});var Nu="span",ju=ee(function(t){return t=$(O({"data-focus-trap":"",tabIndex:0,"aria-hidden":!0},t),{style:O({position:"fixed",top:0,left:0},t.style)}),t=Qr(t),t}),ht=J(function(t){const r=ju(t);return Q(Nu,r)}),Hn=c.createContext(null),$u="div";function Ku(e){return se(e).body}function Bu(e,t){return t?typeof t=="function"?t(e):t:se(e).createElement("div")}function Hu(e="id"){return`${e?`${e}-`:""}${Math.random().toString(36).slice(2,8)}`}function We(e){queueMicrotask(()=>{e==null||e.focus()})}var eo=ee(function(t){var r=t,{preserveTabOrder:n,preserveTabOrderAnchor:o,portalElement:s,portalRef:i,portal:u=!0}=r,a=Z(r,["preserveTabOrder","preserveTabOrderAnchor","portalElement","portalRef","portal"]);const l=c.useRef(null),v=he(l,a.ref),p=c.useContext(Hn),[f,E]=c.useState(null),[b,h]=c.useState(null),F=c.useRef(null),w=c.useRef(null),A=c.useRef(null),x=c.useRef(null);return X(()=>{const m=l.current;if(!m||!u){E(null);return}const C=Bu(m,s);if(!C){E(null);return}const I=C.isConnected;if(I||(p||Ku(m)).appendChild(C),C.id||(C.id=m.id?`portal/${m.id}`:Hu()),E(C),Lt(i,C),!I)return()=>{C.remove(),Lt(i,null)}},[u,s,p,i]),X(()=>{if(!u||!n||!o)return;const C=se(o).createElement("span");return C.style.position="fixed",o.insertAdjacentElement("afterend",C),h(C),()=>{C.remove(),h(null)}},[u,n,o]),c.useEffect(()=>{if(!f||!n)return;let m=0;const C=I=>{if(!Xe(I))return;const D=I.type==="focusin";if(cancelAnimationFrame(m),D)return ni(f);m=requestAnimationFrame(()=>{ti(f,!0)})};return f.addEventListener("focusin",C,!0),f.addEventListener("focusout",C,!0),()=>{cancelAnimationFrame(m),f.removeEventListener("focusin",C,!0),f.removeEventListener("focusout",C,!0)}},[f,n]),a=we(a,m=>{if(m=T.jsx(Hn.Provider,{value:f||p,children:m}),!u)return m;if(!f)return T.jsx("span",{ref:v,id:a.id,style:{position:"fixed"},hidden:!0});m=T.jsxs(T.Fragment,{children:[n&&f&&T.jsx(ht,{ref:w,"data-focus-trap":a.id,className:"__focus-trap-inner-before",onFocus:I=>{Xe(I,f)?We(Ft()):We(F.current)}}),m,n&&f&&T.jsx(ht,{ref:A,"data-focus-trap":a.id,className:"__focus-trap-inner-after",onFocus:I=>{Xe(I,f)?We(On()):We(x.current)}})]}),f&&(m=xt.createPortal(m,f));let C=T.jsxs(T.Fragment,{children:[n&&f&&T.jsx(ht,{ref:F,"data-focus-trap":a.id,className:"__focus-trap-outer-before",onFocus:I=>{!(I.relatedTarget===x.current)&&Xe(I,f)?We(w.current):We(On())}}),n&&T.jsx("span",{"aria-owns":f==null?void 0:f.id,style:{position:"fixed"}}),n&&f&&T.jsx(ht,{ref:x,"data-focus-trap":a.id,className:"__focus-trap-outer-after",onFocus:I=>{if(Xe(I,f))We(A.current);else{const D=Ft();if(D===w.current){requestAnimationFrame(()=>{var R;return(R=Ft())==null?void 0:R.focus()});return}We(D)}}})]});return b&&n&&(C=xt.createPortal(C,b)),T.jsxs(T.Fragment,{children:[C,m]})},[f,p,u,a.id,n,b]),a=$(O({},a),{ref:v}),a});J(function(t){const r=eo(t);return Q($u,r)});var zu="div",zn=wt();function Wu(e){const t=Ke();return!t||e&&me(e,t)?!1:!!ke(t)}function Wn(e,t=!1){if(!e)return null;const r="current"in e?e.current:e;return r?t?ke(r)?r:null:r:null}var to=ee(function(t){var r=t,{store:n,open:o,onClose:s,focusable:i=!0,modal:u=!0,portal:a=!!u,backdrop:l=!!u,hideOnEscape:v=!0,hideOnInteractOutside:p=!0,getPersistentElements:f,preventBodyScroll:E=!!u,autoFocusOnShow:b=!0,autoFocusOnHide:h=!0,initialFocus:F,finalFocus:w,unmountOnHide:A,unstable_treeSnapshotKey:x}=r,m=Z(r,["store","open","onClose","focusable","modal","portal","backdrop","hideOnEscape","hideOnInteractOutside","getPersistentElements","preventBodyScroll","autoFocusOnShow","autoFocusOnHide","initialFocus","finalFocus","unmountOnHide","unstable_treeSnapshotKey"]);const C=It(),I=c.useRef(null),D=Is({store:n||C,open:o,setOpen(L){if(L)return;const q=I.current;if(!q)return;const fe=new Event("close",{bubbles:!1,cancelable:!0});s&&q.addEventListener("close",s,{once:!0}),q.dispatchEvent(fe),fe.defaultPrevented&&D.setOpen(!0)}}),{portalRef:R,domReady:S}=fr(a,m.portalRef),V=m.preserveTabOrder,H=Pe(D,L=>V&&!u&&L.mounted),B=Qe(m.id),d=Pe(D,"open"),P=Pe(D,"mounted"),M=Pe(D,"contentElement"),y=vn(P,m.hidden,m.alwaysVisible);Ou(M,B,E&&!y),Ru(D,p,S);const{wrapElement:k,nestedDialogs:N}=Au(D);m=we(m,k,[k]),X(()=>{if(!d)return;const L=I.current,q=Ke(L,!0);q&&q.tagName!=="BODY"&&(L&&me(L,q)||D.setDisclosureElement(q))},[D,d]),zn&&c.useEffect(()=>{if(!P)return;const{disclosureElement:L}=D.getState();if(!L||!qe(L))return;const q=()=>{let fe=!1;const Y=()=>{fe=!0},Se={capture:!0,once:!0};L.addEventListener("focusin",Y,Se),ot(L,"mouseup",()=>{L.removeEventListener("focusin",Y,!0),!fe&&Mr(L)})};return L.addEventListener("mousedown",q),()=>{L.removeEventListener("mousedown",q)}},[D,P]),c.useEffect(()=>{if(!P||!S)return;const L=I.current;if(!L)return;const q=or(L),fe=q.visualViewport||q,Y=()=>{var Se,Oe;const _=(Oe=(Se=q.visualViewport)==null?void 0:Se.height)!=null?Oe:q.innerHeight;L.style.setProperty("--dialog-viewport-height",`${_}px`)};return Y(),fe.addEventListener("resize",Y),()=>{fe.removeEventListener("resize",Y)}},[P,S]),c.useEffect(()=>{if(!u||!P||!S)return;const L=I.current;if(!(!L||L.querySelector("[data-dialog-dismiss]")))return ku(L,D.hide)},[D,u,P,S]),X(()=>{if(!Xr()||d||!P||!S)return;const L=I.current;if(L)return Jr(L)},[d,P,S]);const g=d&&S;X(()=>{if(!B||!g)return;const L=I.current;return gu(B,[L])},[B,g,x]);const j=W(f);X(()=>{if(!B||!g)return;const{disclosureElement:L}=D.getState(),q=I.current,fe=j()||[],Y=[q,...fe,...N.map(Se=>Se.getState().contentElement)];return u?Te($n(B,Y),wu(B,Y)):$n(B,[L,...Y])},[B,D,g,j,N,u,x]);const z=!!b,te=ue(b),[ae,ne]=c.useState(!1);c.useEffect(()=>{if(!d||!z||!S||!(M!=null&&M.isConnected))return;const L=Wn(F,!0)||M.querySelector("[data-autofocus=true],[autofocus]")||Xs(M,!0,a&&H)||M,q=ke(L);te(q?L:null)&&(ne(!0),queueMicrotask(()=>{L.focus(),zn&&L.scrollIntoView({block:"nearest",inline:"nearest"})}))},[d,z,S,M,F,a,H,te]);const re=!!h,pe=ue(h),[_e,le]=c.useState(!1);c.useEffect(()=>{if(d)return le(!0),()=>le(!1)},[d]);const be=c.useCallback((L,q=!0)=>{const{disclosureElement:fe}=D.getState();if(Wu(L))return;let Y=Wn(w)||fe;if(Y!=null&&Y.id){const Oe=se(Y),_=`[aria-activedescendant="${Y.id}"]`,U=Oe.querySelector(_);U&&(Y=U)}if(Y&&!ke(Y)){const Oe=Y.closest("[data-dialog]");if(Oe!=null&&Oe.id){const _=se(Oe),U=`[aria-controls~="${Oe.id}"]`,ie=_.querySelector(U);ie&&(Y=ie)}}const Se=Y&&ke(Y);if(!Se&&q){requestAnimationFrame(()=>be(L,!1));return}pe(Se?Y:null)&&Se&&(Y==null||Y.focus())},[D,w,pe]),K=c.useRef(!1);X(()=>{if(d||!_e||!re)return;const L=I.current;K.current=!0,be(L)},[d,_e,S,re,be]),c.useEffect(()=>{if(!_e||!re)return;const L=I.current;return()=>{if(K.current){K.current=!1;return}be(L)}},[_e,re,be]);const xe=ue(v);c.useEffect(()=>!S||!P?void 0:Re("keydown",q=>{if(q.key!=="Escape"||q.defaultPrevented)return;const fe=I.current;if(!fe||gn(fe))return;const Y=q.target;if(!Y)return;const{disclosureElement:Se}=D.getState();!!(Y.tagName==="BODY"||me(fe,Y)||!Se||me(Se,Y))&&xe(q)&&D.hide()},!0),[D,S,P,xe]),m=we(m,L=>T.jsx(Vu,{level:u?1:void 0,children:L}),[u]);const de=m.hidden,Fe=m.alwaysVisible;m=we(m,L=>l?T.jsxs(T.Fragment,{children:[T.jsx(yu,{store:D,backdrop:l,hidden:de,alwaysVisible:Fe}),L]}):L,[D,l,de,Fe]);const[Me,He]=c.useState(),[Le,ze]=c.useState();return m=we(m,L=>T.jsx(un,{value:D,children:T.jsx(Ls.Provider,{value:He,children:T.jsx(Ns.Provider,{value:ze,children:L})})}),[D]),m=$(O({id:B,"data-dialog":"",role:"dialog",tabIndex:i?-1:void 0,"aria-labelledby":Me,"aria-describedby":Le},m),{ref:he(I,m.ref)}),m=Zr($(O({},m),{autoFocusOnShow:ae})),m=mn(O({store:D},m)),m=Tt($(O({},m),{focusable:i})),m=eo($(O({portal:a},m),{portalRef:R,preserveTabOrder:H})),m});function hn(e,t=It){return J(function(n){const o=t(),s=n.store||o;return Pe(s,u=>!n.unmountOnHide||(u==null?void 0:u.mounted)||!!n.open)?T.jsx(e,O({},n)):null})}hn(J(function(t){const r=to(t);return Q(zu,r)}),It);var Uu="div";function Un(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const o={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return $(O({},o),{toJSON:()=>o})}function qu(e){if(!e)return Un();const{x:t,y:r,width:n,height:o}=e;return Un(t,r,n,o)}function Yu(e,t){return{contextElement:e||void 0,getBoundingClientRect:()=>{const n=e,o=t==null?void 0:t(n);return o||!n?qu(o):n.getBoundingClientRect()}}}function Gu(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}function qn(e){const t=window.devicePixelRatio||1;return Math.round(e*t)/t}function Xu(e,t){return ao(({placement:r})=>{var n;const o=((e==null?void 0:e.clientHeight)||0)/2,s=typeof t.gutter=="number"?t.gutter+o:(n=t.gutter)!=null?n:o;return{crossAxis:!!r.split("-")[1]?void 0:t.shift,mainAxis:s,alignmentAxis:t.shift}})}function Ju(e){if(e.flip===!1)return;const t=typeof e.flip=="string"?e.flip.split(" "):void 0;return Ie(!t||t.every(Gu),"`flip` expects a spaced-delimited list of placements"),co({padding:e.overflowPadding,fallbackPlacements:t})}function Zu(e){if(!(!e.slide&&!e.overlap))return lo({mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:fo()})}function Qu(e){return vo({padding:e.overflowPadding,apply({elements:t,availableWidth:r,availableHeight:n,rects:o}){const s=t.floating,i=Math.round(o.reference.width);r=Math.floor(r),n=Math.floor(n),s.style.setProperty("--popover-anchor-width",`${i}px`),s.style.setProperty("--popover-available-width",`${r}px`),s.style.setProperty("--popover-available-height",`${n}px`),e.sameWidth&&(s.style.width=`${i}px`),e.fitViewport&&(s.style.maxWidth=`${r}px`,s.style.maxHeight=`${n}px`)}})}function ea(e,t){if(e)return mo({element:e,padding:t.arrowPadding})}var no=ee(function(t){var r=t,{store:n,modal:o=!1,portal:s=!!o,preserveTabOrder:i=!0,autoFocusOnShow:u=!0,wrapperProps:a,fixed:l=!1,flip:v=!0,shift:p=0,slide:f=!0,overlap:E=!1,sameWidth:b=!1,fitViewport:h=!1,gutter:F,arrowPadding:w=4,overflowPadding:A=8,getAnchorRect:x,updatePosition:m}=r,C=Z(r,["store","modal","portal","preserveTabOrder","autoFocusOnShow","wrapperProps","fixed","flip","shift","slide","overlap","sameWidth","fitViewport","gutter","arrowPadding","overflowPadding","getAnchorRect","updatePosition"]);const I=an();n=n||I,Ie(n,"Popover must receive a `store` prop or be wrapped in a PopoverProvider component.");const D=n.useState("arrowElement"),R=n.useState("anchorElement"),S=n.useState("disclosureElement"),V=n.useState("popoverElement"),H=n.useState("contentElement"),B=n.useState("placement"),d=n.useState("mounted"),P=n.useState("rendered"),M=c.useRef(null),[y,k]=c.useState(!1),{portalRef:N,domReady:g}=fr(s,C.portalRef),j=W(x),z=W(m),te=!!m;X(()=>{if(!(V!=null&&V.isConnected))return;V.style.setProperty("--popover-overflow-padding",`${A}px`);const ne=Yu(R,j),re=async()=>{if(!d)return;D||(M.current=M.current||document.createElement("div"));const le=D||M.current,be=[Xu(le,{gutter:F,shift:p}),Ju({flip:v,overflowPadding:A}),Zu({slide:f,shift:p,overlap:E,overflowPadding:A}),ea(le,{arrowPadding:w}),Qu({sameWidth:b,fitViewport:h,overflowPadding:A})],K=await uo(ne,V,{placement:B,strategy:l?"fixed":"absolute",middleware:be});n==null||n.setState("currentPlacement",K.placement),k(!0);const xe=qn(K.x),de=qn(K.y);if(Object.assign(V.style,{top:"0",left:"0",transform:`translate3d(${xe}px,${de}px,0)`}),le&&K.middlewareData.arrow){const{x:Fe,y:Me}=K.middlewareData.arrow,He=K.placement.split("-")[0],Le=le.clientWidth/2,ze=le.clientHeight/2,L=Fe!=null?Fe+Le:-Le,q=Me!=null?Me+ze:-ze;V.style.setProperty("--popover-transform-origin",{top:`${L}px calc(100% + ${ze}px)`,bottom:`${L}px ${-ze}px`,left:`calc(100% + ${Le}px) ${q}px`,right:`${-Le}px ${q}px`}[He]),Object.assign(le.style,{left:Fe!=null?`${Fe}px`:"",top:Me!=null?`${Me}px`:"",[He]:"100%"})}},_e=io(ne,V,async()=>{te?(await z({updatePosition:re}),k(!0)):await re()},{elementResize:typeof ResizeObserver=="function"});return()=>{k(!1),_e()}},[n,P,V,D,R,V,B,d,g,l,v,p,f,E,b,h,F,w,A,j,te,z]),X(()=>{if(!d||!g||!(V!=null&&V.isConnected)||!(H!=null&&H.isConnected))return;const ne=()=>{V.style.zIndex=getComputedStyle(H).zIndex};ne();let re=requestAnimationFrame(()=>{re=requestAnimationFrame(ne)});return()=>cancelAnimationFrame(re)},[d,g,V,H]);const ae=l?"fixed":"absolute";return C=we(C,ne=>T.jsx("div",$(O({},a),{style:O({position:ae,top:0,left:0,width:"max-content"},a==null?void 0:a.style),ref:n==null?void 0:n.setPopoverElement,children:ne})),[n,ae,a]),C=we(C,ne=>T.jsx(Ar,{value:n,children:ne}),[n]),C=$(O({"data-placing":!y||void 0},C),{style:O({position:"relative"},C.style)}),C=to($(O({store:n,modal:o,portal:s,preserveTabOrder:i,preserveTabOrderAnchor:S||R,autoFocusOnShow:y&&u},C),{portalRef:N})),C});hn(J(function(t){const r=no(t);return Q(Uu,r)}),an);var ta="div";function na(e,...t){if(!e)return!1;if("id"in e){const r=t.filter(Boolean).map(n=>`[aria-controls~="${n}"]`).join(", ");return r?e.matches(r):!1}return!1}var ra=ee(function(t){var r=t,{store:n,modal:o,tabIndex:s,alwaysVisible:i,autoFocusOnHide:u=!0,hideOnInteractOutside:a=!0}=r,l=Z(r,["store","modal","tabIndex","alwaysVisible","autoFocusOnHide","hideOnInteractOutside"]);const v=Ot();n=n||v,Ie(n,"ComboboxPopover must receive a `store` prop or be wrapped in a ComboboxProvider component.");const p=n.useState("baseElement"),f=c.useRef(!1),E=Pe(n.tag,b=>b==null?void 0:b.renderedItems.length);return l=qr(O({store:n,alwaysVisible:i},l)),l=no($(O({store:n,modal:o,alwaysVisible:i,backdrop:!1,autoFocusOnShow:!1,finalFocus:p,preserveTabOrderAnchor:null,unstable_treeSnapshotKey:E},l),{getPersistentElements(){var b;const h=((b=l.getPersistentElements)==null?void 0:b.call(l))||[];if(!o||!n)return h;const{contentElement:F,baseElement:w}=n.getState();if(!w)return h;const A=se(w),x=[];if(F!=null&&F.id&&x.push(`[aria-controls~="${F.id}"]`),w!=null&&w.id&&x.push(`[aria-controls~="${w.id}"]`),!x.length)return[...h,w];const m=x.join(","),C=A.querySelectorAll(m);return[...h,...C]},autoFocusOnHide(b){return rr(u,b)?!1:f.current?(f.current=!1,!1):!0},hideOnInteractOutside(b){var h,F;const w=n==null?void 0:n.getState(),A=(h=w==null?void 0:w.contentElement)==null?void 0:h.id,x=(F=w==null?void 0:w.baseElement)==null?void 0:F.id;if(na(b.target,A,x))return!1;const m=typeof a=="function"?a(b):a;return m&&(f.current=b.type==="click"),m}})),l}),oa=hn(J(function(t){const r=ra(t);return Q(ta,r)}),Ot),sa="hr",ia=ee(function(t){var r=t,{orientation:n="horizontal"}=r,o=Z(r,["orientation"]);return o=O({role:"separator","aria-orientation":n},o),o}),ua=J(function(t){const r=ia(t);return Q(sa,r)});function aa(e){return c.forwardRef(e)}var Yn=8,Gn=28,ca=({value:e,onChange:t,searchValue:r,onSearchValueChange:n,options:o,className:s,placeholder:i,fetchNextPage:u,isFetchingNextPage:a,onCreateOption:l,noResultsPlaceholder:v,...p},f)=>{var be;const[E,b]=c.useState(!1),[h,F]=c.useTransition(),{t:w}=po(),A=c.useRef(null),x=c.useRef(null);c.useImperativeHandle(f,()=>A.current);const m=e!==void 0,C=r!==void 0,I=Array.isArray(e),D=I?[]:"",[R,S]=c.useState(r||""),V=c.useDeferredValue(R),[H,B]=c.useState(D),d=C?r:R,P=m?e:H,M=K=>{!o.filter(de=>!de.disabled).find(de=>I?K==null?void 0:K.includes(de.value):de.value===K)&&l&&K&&l(K),m||B(K||D),t&&t(K),S("")},y=K=>{S(K),n&&n(K)},k=c.useMemo(()=>C?[]:bo(o,V,{keys:["label"]}),[o,V,C]),N=c.useRef(new IntersectionObserver(K=>{K[0].isIntersecting&&(u==null||u())},{threshold:1})),g=c.useCallback(K=>{a||(N.current&&N.current.disconnect(),K&&N.current.observe(K))},[a]),j=K=>{K||S(""),b(K)},te=(P==null?void 0:P.length)>0&&I,ae=te&&!d&&!E,ne=!I&&!E,re=(be=o.find(K=>K.value===P))==null?void 0:be.label,pe=ae||E,_e=c.useMemo(()=>{if(!Array.isArray(P))return Gn+Yn;const xe=P.length.toString().length;return Gn+xe*Yn},[P]),le=c.useMemo(()=>C?o:k,[k,o,C]);return T.jsxs(Ii,{open:E,setOpen:j,selectedValue:P,setSelectedValue:K=>M(K),value:R,setValue:K=>{F(()=>y(K))},children:[T.jsxs("div",{className:nt("relative flex cursor-pointer items-center gap-x-2 overflow-hidden","h-8 w-full rounded-md","bg-ui-bg-field transition-fg shadow-borders-base","has-[input:focus]:shadow-borders-interactive-with-active","has-[:invalid]:shadow-borders-error has-[[aria-invalid=true]]:shadow-borders-error","has-[:disabled]:bg-ui-bg-disabled has-[:disabled]:text-ui-fg-disabled has-[:disabled]:cursor-not-allowed",s),style:{"--tag-width":`${_e}px`},children:[te&&T.jsxs("button",{type:"button",onClick:K=>{K.preventDefault(),M(void 0)},className:"bg-ui-bg-base hover:bg-ui-bg-base-hover txt-compact-small-plus text-ui-fg-subtle focus-within:border-ui-fg-interactive transition-fg absolute left-0.5 top-0.5 z-[1] flex h-[28px] items-center rounded-[4px] border py-[3px] pl-1.5 pr-1 outline-none",children:[T.jsx("span",{className:"tabular-nums",children:P.length}),T.jsx(ho,{className:"text-ui-fg-muted"})]}),T.jsxs("div",{className:"relative flex size-full items-center",children:[ae&&T.jsx("div",{className:nt("pointer-events-none absolute inset-y-0 flex size-full items-center",{"left-[calc(var(--tag-width)+8px)]":te,"left-2":!te}),children:T.jsx(bt,{size:"small",leading:"compact",children:w("general.selected")})}),ne&&T.jsx("div",{className:nt("pointer-events-none absolute inset-y-0 flex size-full items-center overflow-hidden",{"left-[calc(var(--tag-width)+8px)]":te,"left-2":!te}),children:T.jsx(bt,{size:"small",leading:"compact",className:"truncate",children:re})}),T.jsx(Pi,{autoSelect:!0,ref:A,onFocus:()=>b(!0),className:nt("txt-compact-small text-ui-fg-base placeholder:text-ui-fg-subtle transition-fg size-full cursor-pointer bg-transparent pl-2 pr-8 outline-none focus:cursor-text","hover:bg-ui-bg-field-hover",{"opacity-0":ne,"pl-2":!te,"pl-[calc(var(--tag-width)+8px)]":te}),placeholder:pe?void 0:i,...p})]}),T.jsx(Mi,{render:K=>T.jsx("button",{...K,type:"button",className:"text-ui-fg-muted transition-fg hover:bg-ui-bg-field-hover absolute right-0 flex size-8 items-center justify-center rounded-r outline-none",children:T.jsx(xo,{})})})]}),T.jsxs(oa,{gutter:4,sameWidth:!0,ref:x,role:"listbox",className:nt("shadow-elevation-flyout bg-ui-bg-base z-50 rounded-[8px] p-1","max-h-[200px] overflow-y-auto","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"),style:{pointerEvents:E?"auto":"none"},"aria-busy":h,children:[le.map(({value:K,label:xe,disabled:de})=>T.jsxs(Ln,{value:K,focusOnHover:!0,setValueOnClick:!1,disabled:de,className:nt("transition-fg bg-ui-bg-base data-[active-item=true]:bg-ui-bg-base-hover group flex cursor-pointer items-center gap-x-2 rounded-[4px] px-2 py-1",{"text-ui-fg-disabled":de,"bg-ui-bg-component":de}),children:[T.jsx(Bi,{className:"flex !size-5 items-center justify-center",children:T.jsx(go,{})}),T.jsx(Gi,{className:"txt-compact-small",children:xe})]},K)),!!u&&T.jsx("div",{ref:g,className:"w-px"}),a&&T.jsx("div",{className:"transition-fg bg-ui-bg-base flex items-center rounded-[4px] px-2 py-1.5",children:T.jsx("div",{className:"bg-ui-bg-component size-full h-5 w-full animate-pulse rounded-[4px]"})}),!le.length&&(v&&!(d!=null&&d.length)?v:T.jsx("div",{className:"flex items-center gap-x-2 rounded-[4px] px-2 py-1.5",children:T.jsx(bt,{size:"small",leading:"compact",className:"text-ui-fg-subtle",children:w("general.noResultsTitle")})})),!le.length&&l&&T.jsxs(c.Fragment,{children:[T.jsx(ua,{className:"bg-ui-border-base -mx-1"}),T.jsxs(Ln,{value:R,focusOnHover:!0,setValueOnClick:!1,className:"transition-fg bg-ui-bg-base data-[active-item=true]:bg-ui-bg-base-hover group mt-1 flex cursor-pointer items-center gap-x-2 rounded-[4px] px-2 py-1.5",children:[T.jsx(So,{className:"text-ui-fg-subtle"}),T.jsxs(bt,{size:"small",leading:"compact",children:[w("actions.create"),' "',d,'"']})]})]})]})]})},ma=aa(ca);export{ma as C};
